---
title: ã‚³ãƒ¼ãƒ‰ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿
sidebar:
  order: 1
  badge:
    text: New
---

import LastedDependency from '@/components/LastedDependency.astro';

æ–°ã—ãç”Ÿã¾ã‚Œå¤‰ã‚ã£ãŸ MyBatis-Plus ã‚³ãƒ¼ãƒ‰ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ã§ã™ã€‚ãƒ“ãƒ«ãƒ€ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä½¿ç”¨ã—ã¦ã€ç´ æ—©ãã€ã‹ã¤ã‚¨ãƒ¬ã‚¬ãƒ³ãƒˆã«å¿…è¦ãªã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã§ãã¾ã™ã€‚ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã§ãã®å®ŸåŠ›ã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

```java
<!-- CodeGenerator.java -->

FastAutoGenerator.create("url", "username", "password")
        .globalConfig(builder -> builder
                .author("Baomidou")
                .outputDir(Paths.get(System.getProperty("user.dir")) + "/src/main/java")
                .commentDate("yyyy-MM-dd")
        )
        .packageConfig(builder -> builder
                .parent("com.baomidou.mybatisplus")
                .entity("entity")
                .mapper("mapper")
                .service("service")
                .serviceImpl("service.impl")
                .xml("mapper.xml")
        )
        .strategyConfig(builder -> builder
                .entityBuilder()
                .enableLombok()
        )
        .templateEngine(new FreemarkerTemplateEngine())
        .execute();
```

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

<LastedDependency groupId="com.baomidou" artifactId="mybatis-plus-generator" />

:::note
ã“ã®æ–°ã—ã„ã‚³ãƒ¼ãƒ‰ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ã¯ 3.5.1 ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§è¿½åŠ ã•ã‚Œã€éå»ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¨ã®äº’æ›æ€§ã¯ã‚ã‚Šã¾ã›ã‚“ï¼3.5.1 ã‚ˆã‚Šå‰ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã¯ã€[ã‚³ãƒ¼ãƒ‰ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿](/guides/code-generator/) ã‚’å‚ç…§ã—ã¦è¨­å®šã¨ä½¿ç”¨ã‚’è¡Œã£ã¦ãã ã•ã„ã€‚
:::

ã‚³ãƒ¼ãƒ‰ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ã¯ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¨ãƒ³ã‚¸ãƒ³ã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã€ãŠå¥½ã¿ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¨ãƒ³ã‚¸ãƒ³ã‚’å„è‡ªå°å…¥ã—ã¦ãã ã•ã„ã€‚MyBatis-Plus Generator ã¯ä»¥ä¸‹ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¨ãƒ³ã‚¸ãƒ³ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ï¼š

- VelocityTemplateEngine(ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ)
- FreemarkerTemplateEngine
- BeetlTemplateEngine
- EnjoyTemplateEngine

ãã®ä»–ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¨ãƒ³ã‚¸ãƒ³ã‚’ä½¿ç”¨ã¾ãŸã¯é©åˆã•ã›ãŸã„å ´åˆã¯ã€`AbstractTemplateEngine` ã‚’ç¶™æ‰¿ã—ã€ä»–ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¨ãƒ³ã‚¸ãƒ³ã®å®Ÿè£…ã‚’å‚è€ƒã«ç‹¬è‡ªå®Ÿè£…ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

## ç”Ÿæˆæ–¹å¼

ã‚³ãƒ¼ãƒ‰ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ã¯ç¾åœ¨ã€ä»¥ä¸‹ã®2ã¤ã®ç”Ÿæˆæ–¹å¼ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ï¼š

1. **DefaultQuery (ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚¯ã‚¨ãƒª)**
   - **åˆ©ç‚¹ï¼š** å…±é€šã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«åŸºã¥ã„ã¦ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿é–¢é€£æƒ…å ±ã‚’èª­ã¿å–ã‚‹ãŸã‚ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®äº’æ›æ€§ãŒé«˜ã„ã€‚
   - **æ¬ ç‚¹ï¼š** ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ™ãƒ³ãƒ€ãƒ¼ã®ãƒ‰ãƒ©ã‚¤ãƒå®Ÿè£…ã«ä¾å­˜ã™ã‚‹ã€‚
   - **å‚™è€ƒï¼š** ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®æ–¹å¼ã€‚ä¸€éƒ¨ã®å‹å‡¦ç†ãŒç†æƒ³çš„ã§ãªã„å ´åˆãŒã‚ã‚‹ã€‚

2. **SQLQuery (SQLã‚¯ã‚¨ãƒª)**
   - **åˆ©ç‚¹ï¼š** ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«å¿œã˜ã¦ã€å¯¾å¿œã™ã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«ã€ä¸»ã‚­ãƒ¼ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å–å¾—ãªã©ã®ã‚¯ã‚¨ãƒªæ–‡ã‚’è¨˜è¿°ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚
   - **æ¬ ç‚¹ï¼š** äº’æ›æ€§ãŒä½ãã€åŒã˜ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ™ãƒ³ãƒ€ãƒ¼ã§ã‚‚ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ã‚ˆã£ã¦äº’æ›æ€§ã®å•é¡ŒãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ï¼ˆä¾‹ï¼šH2ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¯1.Xãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ã¿ã‚µãƒãƒ¼ãƒˆï¼‰ã€‚
   - **å‚™è€ƒï¼š** å°†æ¥çš„ãªãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã¯äºˆå®šã•ã‚Œã¦ã„ãªã„ã€‚

æ—¢çŸ¥ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼ˆãƒãƒ¼ã‚¸ãƒ§ãƒ³äº’æ›æ€§ã®å•é¡ŒãŒãªã„ï¼‰ã®å ´åˆã€å¾“æ¥ã®SQLã‚¯ã‚¨ãƒªæ–¹å¼ã‚’å¼•ãç¶šãä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ï¼š

```java
// MYSQL ã‚µãƒ³ãƒ—ãƒ« SQLã‚¯ã‚¨ãƒªæ–¹å¼ã«åˆ‡ã‚Šæ›¿ãˆã€‚ç”Ÿæˆã«ã¯ dbQuery ã¨ typeConvert ã®æŒ‡å®šãŒå¿…è¦
FastAutoGenerator.create("url", "username", "password")
                .dataSourceConfig(builder ->
                        builder.databaseQueryClass(SQLQuery.class)
                                .typeConvert(new MySqlTypeConvert())
                                .dbQuery(new MySqlQuery())
                )
                // ãã®ä»–ã®è¨­å®š ...
```

ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚¯ã‚¨ãƒªã«ã¯ç¾åœ¨ã€ä»¥ä¸‹ã®å•é¡ŒãŒã‚ã‚Šã¾ã™ï¼š

1. NotLike æ–¹å¼ã‚’ä½¿ç”¨ã—ãŸé€†æ–¹å‘ã®ãƒ†ãƒ¼ãƒ–ãƒ«ç”Ÿæˆã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ãªã„ã€‚
2. ãƒ†ãƒ¼ãƒ–ãƒ«ã‚³ãƒ¡ãƒ³ãƒˆã‚’èª­ã¿å–ã‚‹ã“ã¨ãŒã§ããªã„ã€‚è§£æ±ºæ–¹æ³•ï¼š
   - MySQLæ¥ç¶šã« `remarks=true&useInformationSchema=true` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¿½åŠ 
   - Oracleæ¥ç¶šã« `remarks=true` ã¾ãŸã¯ `remarksReporting=true` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¿½åŠ ï¼ˆä¸€éƒ¨ã®ãƒ‰ãƒ©ã‚¤ãƒãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼‰
   - SqlServerï¼šãƒ‰ãƒ©ã‚¤ãƒãŒã‚µãƒãƒ¼ãƒˆã—ã¦ã„ãªã„
3. ä¸€éƒ¨ã® PostgreSQL å‹ã®å‡¦ç†ãŒä¸ååˆ†ï¼ˆjsonã€jsonbã€uuidã€xmlã€money å‹ãªã©ï¼‰ã€‚è§£æ±ºæ–¹æ³•ï¼š
   - ã‚«ã‚¹ã‚¿ãƒ å‹ã«å¤‰æ›ã—ã€ã‚«ã‚¹ã‚¿ãƒ  TypeHandler ã§å‡¦ç†ã™ã‚‹ã€‚
   - typeConvertHandler ã‚’æ‹¡å¼µã—ã¦å‡¦ç†ã™ã‚‹ï¼ˆ3.5.3.3 ä»¥é™ã§ typeName ã®å–å¾—ãŒè¿½åŠ ã•ã‚ŒãŸï¼‰ã€‚
4. MySQL ã® tinyint ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å¤‰æ›å•é¡Œï¼š
   - ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰é•·ãŒ 1 ã®å ´åˆã€Boolean ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«å¤‰æ›ã§ããªã„ã€‚ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šæŒ‡å®šæ™‚ã« `&tinyInt1isBit=true` ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã€‚
   - ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰é•·ãŒ 1 ã‚ˆã‚Šå¤§ãã„å ´åˆã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ Byte ã«å¤‰æ›ã•ã‚Œã‚‹ã€‚Integer ã«å¤‰æ›ã—ç¶šã‘ãŸã„å ´åˆã¯ã€ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ï¼š

        ```java
        FastAutoGenerator.create("url", "username", "password")
                .dataSourceConfig(builder ->
                        builder.typeConvertHandler((globalConfig, typeRegistry, metaInfo) -> {
                            // æ—§ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¨ã®äº’æ›æ€§ã‚’ä¿ã¡Integerã«å¤‰æ›
                            if (JdbcType.TINYINT == metaInfo.getJdbcType()) {
                                return DbColumnType.INTEGER;
                            }
                            return typeRegistry.getColumnType(metaInfo);
                        })
                );
        ```

## ä½¿ç”¨æ–¹æ³•

ã‚³ãƒ¼ãƒ‰ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ã¯ä»¥ä¸‹ã®2ã¤ã®å½¢å¼ã§ä½¿ç”¨ã§ãã¾ã™ã€‚

### ã‚¯ã‚¤ãƒƒã‚¯ç”Ÿæˆ

CodeGenerator ã® main ãƒ¡ã‚½ãƒƒãƒ‰ã«ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ã‚³ãƒ¼ãƒ‰ã‚’ç›´æ¥è¿½åŠ ã—ã€é–¢é€£è¨­å®šã‚’è¡Œã£ãŸå¾Œã€ç›´æ¥å®Ÿè¡Œã™ã‚‹ã ã‘ã§ã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã§ãã¾ã™ã€‚

```java
<!-- CodeGenerator.java -->

public static void main(String[] args) {
    FastAutoGenerator.create("url", "username", "password")
            .globalConfig(builder -> {
                builder.author("baomidou") // ä½œè€…ã‚’è¨­å®š
                        .enableSwagger() // swagger ãƒ¢ãƒ¼ãƒ‰ã‚’æœ‰åŠ¹åŒ–
                        .outputDir("D://"); // å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æŒ‡å®š
            })
            .dataSourceConfig(builder ->
                    builder.typeConvertHandler((globalConfig, typeRegistry, metaInfo) -> {
                        int typeCode = metaInfo.getJdbcType().TYPE_CODE;
                        if (typeCode == Types.SMALLINT) {
                            // ã‚«ã‚¹ã‚¿ãƒ å‹å¤‰æ›
                            return DbColumnType.INTEGER;
                        }
                        return typeRegistry.getColumnType(metaInfo);
                    })
            )
            .packageConfig(builder ->
                    builder.parent("com.baomidou.mybatisplus.samples.generator") // è¦ªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åã‚’è¨­å®š
                            .moduleName("system") // è¦ªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åã‚’è¨­å®š
                            .pathInfo(Collections.singletonMap(OutputFile.xml, "D://")) // mapperXmlç”Ÿæˆãƒ‘ã‚¹ã‚’è¨­å®š
            )
            .strategyConfig(builder ->
                    builder.addInclude("t_simple") // ç”Ÿæˆã™ã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«åã‚’è¨­å®š
                            .addTablePrefix("t_", "c_") // ãƒ•ã‚£ãƒ«ã‚¿ã™ã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‚’è¨­å®š
            )
            .templateEngine(new FreemarkerTemplateEngine()) // Freemarkerã‚¨ãƒ³ã‚¸ãƒ³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½¿ç”¨ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯Velocityã‚¨ãƒ³ã‚¸ãƒ³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
            .execute();
}
```

### å¯¾è©±å‹ç”Ÿæˆ

å¯¾è©±å‹ç”Ÿæˆã¯å®Ÿè¡Œå¾Œã€å¯¾å¿œã™ã‚‹å†…å®¹ã®å…¥åŠ›ã‚’ä¿ƒã™ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒè¡¨ç¤ºã•ã‚Œã€è¨­å®šå…¥åŠ›ãŒå®Œäº†ã™ã‚‹ã¨è‡ªå‹•çš„ã«é–¢é€£ã‚³ãƒ¼ãƒ‰ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚

```java
<!-- CodeGenerator.java -->

public static void main(String[] args) {
    FastAutoGenerator.create("url", "username", "password")
            // ã‚°ãƒ­ãƒ¼ãƒãƒ«è¨­å®š
            .globalConfig((scanner, builder) -> builder.author(scanner.apply("è¯·è¾“å…¥ä½œè€…åç§°ï¼Ÿ")))
            // ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸è¨­å®š
            .packageConfig((scanner, builder) -> builder.parent(scanner.apply("è¯·è¾“å…¥åŒ…åï¼Ÿ")))
            // ã‚¹ãƒˆãƒ©ãƒ†ã‚¸ãƒ¼è¨­å®š
            .strategyConfig((scanner, builder) -> builder.addInclude(getTables(scanner.apply("è¯·è¾“å…¥è¡¨åï¼Œå¤šä¸ªè‹±æ–‡é€—å·åˆ†éš”ï¼Ÿæ‰€æœ‰è¾“å…¥ all")))
                    .entityBuilder()
                    .enableLombok()
                    .addTableFills(
                            new Column("create_time", FieldFill.INSERT)
                    )
                    .build())
            // Freemarkerã‚¨ãƒ³ã‚¸ãƒ³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½¿ç”¨ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯Velocityã‚¨ãƒ³ã‚¸ãƒ³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
            .templateEngine(new FreemarkerTemplateEngine())
            .execute();
}

// all ã®å ´åˆã‚’å‡¦ç†
protected static List<String> getTables(String tables) {
    return "all".equals(tables) ? Collections.emptyList() : Arrays.asList(tables.split(","));
}
```

ã‚ˆã‚Šå¤šãã®ä¾‹ãŒå¿…è¦ãªå ´åˆã¯ã€test ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å†…ã® samples ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

- [H2CodeGeneratorTest](https://github.com/baomidou/generator/blob/develop/mybatis-plus-generator/src/test/java/com/baomidou/mybatisplus/generator/samples/H2CodeGeneratorTest.java)
- [FastAutoGeneratorTest](https://github.com/baomidou/generator/blob/develop/mybatis-plus-generator/src/test/java/com/baomidou/mybatisplus/generator/samples/FastAutoGeneratorTest.java)

## è¨­å®š

[ã‚³ãƒ¼ãƒ‰ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿è¨­å®š](/reference/new-code-generator-configuration/) ã«ç§»å‹•ã—ã¦ã”ç¢ºèªãã ã•ã„ã€‚

## ãƒªã‚½ãƒ¼ã‚¹

- [ğŸ‘‰ ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰](https://github.com/baomidou/mybatis-plus)ï¼šã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®é–²è¦§ã¨ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ­“è¿ã—ã¾ã™ã€‚
- [ğŸ‘‰ ãƒ“ãƒ‡ã‚ªãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«è©³ç´°](https://space.bilibili.com/483260422)ï¼šãƒ•ã‚©ãƒ­ãƒ¼ã€ã„ã„ã­ã€ã‚³ã‚¤ãƒ³æŠ•ã’ã€ã‚³ãƒ¡ãƒ³ãƒˆã‚’ãŠå¾…ã¡ã—ã¦ã„ã¾ã™ã€‚
