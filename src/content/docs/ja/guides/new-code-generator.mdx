---
title: ã‚³ãƒ¼ãƒ‰ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼
sidebar:
  order: 1
  badge:
    text: New
---

import LastedDependency from '@/components/LastedDependency.astro';

MyBatis-Plus ã®æ–°ã—ã„ã‚³ãƒ¼ãƒ‰ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ã¯ã€builder ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä½¿ç”¨ã—ã¦å¿…è¦ãªã‚³ãƒ¼ãƒ‰ã‚’è¿…é€Ÿã«ç”Ÿæˆã§ãã¾ã™ã€‚é«˜é€Ÿã§ã‚¨ãƒ¬ã‚¬ãƒ³ãƒˆãªå®Ÿè£…ã‚’ã€ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã§ã”ç¢ºèªãã ã•ã„ã€‚

```java
<!-- CodeGenerator.java -->

FastAutoGenerator.create("url", "username", "password")
        .globalConfig(builder -> builder
                .author("Baomidou")
                .outputDir(Paths.get(System.getProperty("user.dir")) + "/src/main/java")
                .commentDate("yyyy-MM-dd")
        )
        .packageConfig(builder -> builder
                .parent("com.baomidou.mybatisplus")
                .entity("entity")
                .mapper("mapper")
                .service("service")
                .serviceImpl("service.impl")
                .xml("mapper.xml")
        )
        .strategyConfig(builder -> builder
                .entityBuilder()
                .enableLombok()
        )
        .templateEngine(new FreemarkerTemplateEngine())
        .execute();
```

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

<LastedDependency groupId="com.baomidou" artifactId="mybatis-plus-generator" />

:::note
æ–°ã—ã„ã‚³ãƒ¼ãƒ‰ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ã¯ 3.5.1 ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§è¿½åŠ ã•ã‚Œã€ä»¥å‰ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¨ã¯äº’æ›æ€§ãŒã‚ã‚Šã¾ã›ã‚“ï¼3.5.1 æœªæº€ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã¯ã€[ã‚³ãƒ¼ãƒ‰ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼](/ja/guides/code-generator/)ã‚’å‚ç…§ã—ã¦è¨­å®šãƒ»ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚
:::

ã‚³ãƒ¼ãƒ‰ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ã¯ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¨ãƒ³ã‚¸ãƒ³ã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã€ãŠå¥½ã¿ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¨ãƒ³ã‚¸ãƒ³ã‚’å°å…¥ã—ã¦ãã ã•ã„ã€‚MyBatis-Plus Generator ã¯ä»¥ä¸‹ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¨ãƒ³ã‚¸ãƒ³ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ï¼š

- VelocityTemplateEngineï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰
- FreemarkerTemplateEngine
- BeetlTemplateEngine
- EnjoyTemplateEngine

ä»–ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¨ãƒ³ã‚¸ãƒ³ã‚’ä½¿ç”¨ã¾ãŸã¯é©å¿œã•ã›ãŸã„å ´åˆã¯ã€`AbstractTemplateEngine` ã‚’ç¶™æ‰¿ã—ã€ä»–ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¨ãƒ³ã‚¸ãƒ³ã‚’å‚è€ƒã«ã‚«ã‚¹ã‚¿ãƒ å®Ÿè£…ã‚’ä½œæˆã§ãã¾ã™ã€‚

## ç”Ÿæˆæ–¹å¼

ã‚³ãƒ¼ãƒ‰ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ã¯ç¾åœ¨ã€2ã¤ã®ç”Ÿæˆæ–¹å¼ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ï¼š

1. **DefaultQueryï¼ˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚¯ã‚¨ãƒªï¼‰**
   - **åˆ©ç‚¹ï¼š** å…±é€šã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’ä½¿ç”¨ã—ã¦ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿é–¢é€£æƒ…å ±ã‚’èª­ã¿å–ã‚‹ã®ã§ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«å¯¾ã™ã‚‹æ±ç”¨æ€§ãŒé«˜ã„ã€‚
   - **æ¬ ç‚¹ï¼š** ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ™ãƒ³ãƒ€ãƒ¼ã®ãƒ‰ãƒ©ã‚¤ãƒãƒ¼å®Ÿè£…ã«ä¾å­˜ã™ã‚‹ã€‚
   - **æ³¨æ„ï¼š** ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®æ–¹å¼ã€‚ä¸€éƒ¨ã®å‹å‡¦ç†ãŒç†æƒ³çš„ã§ãªã„å ´åˆãŒã‚ã‚‹ã€‚

2. **SQLQueryï¼ˆSQLã‚¯ã‚¨ãƒªï¼‰**
   - **åˆ©ç‚¹ï¼š** ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«å¿œã˜ã¦å¯¾å¿œã™ã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«ã€ä¸»ã‚­ãƒ¼ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å–å¾—ãªã©ã®ã‚¯ã‚¨ãƒªæ–‡ã‚’è¨˜è¿°ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚
   - **æ¬ ç‚¹ï¼š** æ±ç”¨æ€§ãŒä½ãã€åŒã˜ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ™ãƒ³ãƒ€ãƒ¼ã®ç•°ãªã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³é–“ã§äº’æ›æ€§ã®å•é¡ŒãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ï¼ˆä¾‹ï¼šH2ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¯1.Xãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ã¿ã‚’ã‚µãƒãƒ¼ãƒˆï¼‰ã€‚
   - **æ³¨æ„ï¼š** ä»Šå¾Œã¯ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã•ã‚Œãªã„ã€‚

æ—¢çŸ¥ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼ˆãƒãƒ¼ã‚¸ãƒ§ãƒ³äº’æ›æ€§ã®å•é¡ŒãŒãªã„ï¼‰ã®å ´åˆã¯ã€å¾“æ¥ã®SQLã‚¯ã‚¨ãƒªæ–¹å¼ã‚’ç¶™ç¶šã—ã¦ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚ã‚³ãƒ¼ãƒ‰ä¾‹ï¼š

```java
// MYSQL ä¾‹ï¼šSQL ã‚¯ã‚¨ãƒªæ–¹å¼ã«åˆ‡ã‚Šæ›¿ãˆã‚‹ã«ã¯ã€dbQuery ã¨ typeConvert ã‚’æŒ‡å®šã—ã¦ç”Ÿæˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™
FastAutoGenerator.create("url", "username", "password")
                .dataSourceConfig(builder ->
                        builder.databaseQueryClass(SQLQuery.class)
                                .typeConvert(new MySqlTypeConvert())
                                .dbQuery(new MySqlQuery())
                )
                // ãã®ä»–ã®è¨­å®š ...
```

ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚¯ã‚¨ãƒªã«ã¯ç¾åœ¨ã€ä»¥ä¸‹ã®å•é¡ŒãŒã‚ã‚Šã¾ã™ï¼š

1. NotLike ã‚’ä½¿ç”¨ã—ãŸé€†æ–¹å‘ã®ãƒ†ãƒ¼ãƒ–ãƒ«ç”Ÿæˆã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ãªã„ã€‚
2. ãƒ†ãƒ¼ãƒ–ãƒ«ã‚³ãƒ¡ãƒ³ãƒˆã‚’èª­ã¿å–ã‚Œãªã„ã€‚è§£æ±ºæ–¹æ³•ï¼š
   - MySQLæ¥ç¶šã« `remarks=true&useInformationSchema=true` ã‚’è¿½åŠ 
   - Oracleæ¥ç¶šã« `remarks=true` ã¾ãŸã¯ `remarksReporting=true`ï¼ˆä¸€éƒ¨ã®ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼‰ã‚’è¿½åŠ 
   - SqlServerï¼šãƒ‰ãƒ©ã‚¤ãƒãƒ¼ãŒã‚µãƒãƒ¼ãƒˆã—ã¦ã„ãªã„
3. ä¸€éƒ¨ã® PostgreSQL å‹ã®å‡¦ç†ãŒä¸ååˆ†ï¼ˆjsonã€jsonbã€uuidã€xmlã€moneyå‹ãªã©ï¼‰ã€‚è§£æ±ºæ–¹æ³•ï¼š
   - ã‚«ã‚¹ã‚¿ãƒ å‹ã«å¤‰æ›ã—ã€ã‚«ã‚¹ã‚¿ãƒ  TypeHandler ã§å‡¦ç†
   - typeConvertHandler ã‚’æ‹¡å¼µã—ã¦å‡¦ç†ï¼ˆ3.5.3.3ä»¥é™ã§ typeName ã®å–å¾—ãŒè¿½åŠ ï¼‰
4. MySQL ã® tinyint ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å¤‰æ›ã®å•é¡Œï¼š
   - ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰é•·ãŒ 1 ã®å ´åˆã€Boolean ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«å¤‰æ›ã§ããªã„ã€‚ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šæŒ‡å®šæ™‚ã« `&tinyInt1isBit=true` ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã€‚
   - ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰é•·ãŒ 1 ã‚ˆã‚Šå¤§ãã„å ´åˆã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ Byte ã«å¤‰æ›ã•ã‚Œã‚‹ã€‚Integer ã«å¤‰æ›ã—ãŸã„å ´åˆã¯ã€ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ï¼š

        ```java
        FastAutoGenerator.create("url", "username", "password")
                .dataSourceConfig(builder ->
                        builder.typeConvertHandler((globalConfig, typeRegistry, metaInfo) -> {
                            // æ—§ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¨ã®äº’æ›æ€§ã®ãŸã‚ Integer ã«å¤‰æ›
                            if (JdbcType.TINYINT == metaInfo.getJdbcType()) {
                                return DbColumnType.INTEGER;
                            }
                            return typeRegistry.getColumnType(metaInfo);
                        })
                );
        ```

## ä½¿ç”¨æ–¹æ³•

ã‚³ãƒ¼ãƒ‰ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ã¯ä»¥ä¸‹ã®2ã¤ã®å½¢å¼ã§ä½¿ç”¨ã§ãã¾ã™ã€‚

### ã‚¯ã‚¤ãƒƒã‚¯ç”Ÿæˆ

CodeGenerator ã® main ãƒ¡ã‚½ãƒƒãƒ‰ã«ç›´æ¥ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ã€é–¢é€£ã™ã‚‹è¨­å®šã‚’è¡Œã£ãŸå¾Œã€å®Ÿè¡Œã™ã‚‹ã ã‘ã§ã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã§ãã¾ã™ã€‚

```java
<!-- CodeGenerator.java -->

public static void main(String[] args) {
    FastAutoGenerator.create("url", "username", "password")
            .globalConfig(builder -> {
                builder.author("baomidou") // ä½œè€…ã®è¨­å®š
                        .enableSwagger() // swagger ãƒ¢ãƒ¼ãƒ‰ã®æœ‰åŠ¹åŒ–
                        .outputDir("D://"); // å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®æŒ‡å®š
            })
            .dataSourceConfig(builder ->
                    builder.typeConvertHandler((globalConfig, typeRegistry, metaInfo) -> {
                        int typeCode = metaInfo.getJdbcType().TYPE_CODE;
                        if (typeCode == Types.SMALLINT) {
                            // ã‚«ã‚¹ã‚¿ãƒ å‹å¤‰æ›
                            return DbColumnType.INTEGER;
                        }
                        return typeRegistry.getColumnType(metaInfo);
                    })
            )
            .packageConfig(builder ->
                    builder.parent("com.baomidou.mybatisplus.samples.generator") // è¦ªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åã®è¨­å®š
                            .moduleName("system") // è¦ªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åã®è¨­å®š
                            .pathInfo(Collections.singletonMap(OutputFile.xml, "D://")) // mapperXml ç”Ÿæˆãƒ‘ã‚¹ã®è¨­å®š
            )
            .strategyConfig(builder ->
                    builder.addInclude("t_simple") // ç”Ÿæˆã™ã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«åã®è¨­å®š
                            .addTablePrefix("t_", "c_") // ãƒ†ãƒ¼ãƒ–ãƒ«ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°è¨­å®š
            )
            .templateEngine(new FreemarkerTemplateEngine()) // Freemarker ã‚¨ãƒ³ã‚¸ãƒ³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ä½¿ç”¨ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ Velocity ã‚¨ãƒ³ã‚¸ãƒ³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
            .execute();
}
```

### ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ç”Ÿæˆ

ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ç”Ÿæˆã¯å®Ÿè¡Œå¾Œã€å¿…è¦ãªå†…å®¹ã®å…¥åŠ›ã‚’ä¿ƒã—ã€è¨­å®šã®å…¥åŠ›ãŒå®Œäº†ã™ã‚‹ã¨è‡ªå‹•çš„ã«é–¢é€£ã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã—ã¾ã™ã€‚

```java
<!-- CodeGenerator.java -->

public static void main(String[] args) {
    FastAutoGenerator.create("url", "username", "password")
            // ã‚°ãƒ­ãƒ¼ãƒãƒ«è¨­å®š
            .globalConfig((scanner, builder) -> builder.author(scanner.apply("ä½œè€…åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„")))
            // ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸è¨­å®š
            .packageConfig((scanner, builder) -> builder.parent(scanner.apply("ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„")))
            // æˆ¦ç•¥è¨­å®š
            .strategyConfig((scanner, builder) -> builder.addInclude(getTables(scanner.apply("ãƒ†ãƒ¼ãƒ–ãƒ«åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚è¤‡æ•°ã®å ´åˆã¯ã‚«ãƒ³ãƒã§åŒºåˆ‡ã£ã¦ãã ã•ã„ã€‚ã™ã¹ã¦ã®å ´åˆã¯allã¨å…¥åŠ›ã—ã¦ãã ã•ã„")))
                    .entityBuilder()
                    .enableLombok()
                    .addTableFills(
                            new Column("create_time", FieldFill.INSERT)
                    )
                    .build())
            // Freemarker ã‚¨ãƒ³ã‚¸ãƒ³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ä½¿ç”¨ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ Velocity ã‚¨ãƒ³ã‚¸ãƒ³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
            .templateEngine(new FreemarkerTemplateEngine())
            .execute();
}

// all ã®å ´åˆã®å‡¦ç†
protected static List<String> getTables(String tables) {
    return "all".equals(tables) ? Collections.emptyList() : Arrays.asList(tables.split(","));
}
```

ã‚ˆã‚Šå¤šãã®ã‚µãƒ³ãƒ—ãƒ«ãŒå¿…è¦ãªå ´åˆã¯ã€test ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å†…ã® samples ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

- [H2CodeGeneratorTest](https://github.com/baomidou/generator/blob/develop/mybatis-plus-generator/src/test/java/com/baomidou/mybatisplus/generator/samples/H2CodeGeneratorTest.java)
- [FastAutoGeneratorTest](https://github.com/baomidou/generator/blob/develop/mybatis-plus-generator/src/test/java/com/baomidou/mybatisplus/generator/samples/FastAutoGeneratorTest.java)

## è¨­å®š

[ã‚³ãƒ¼ãƒ‰ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼è¨­å®š](/ja/reference/new-code-generator-configuration/)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ãƒªã‚½ãƒ¼ã‚¹

- [ğŸ‘‰ ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰](https://github.com/baomidou/mybatis-plus)ï¼šã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®é–²è¦§ã¨ã‚³ãƒŸãƒƒãƒˆã‚’æ­“è¿ã—ã¾ã™ã€‚
- [ğŸ‘‰ ãƒ“ãƒ‡ã‚ªãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«è©³ç´°](https://space.bilibili.com/483260422)ï¼šãƒ•ã‚©ãƒ­ãƒ¼ã€ã„ã„ã­ã€æŠ•ã’éŠ­ã€ã‚³ãƒ¡ãƒ³ãƒˆã‚’æ­“è¿ã—ã¾ã™ã€‚
