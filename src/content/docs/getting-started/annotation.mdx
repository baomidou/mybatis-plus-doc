---
title: æ³¨è§£
sidebar:
  order: 4
---

import Badge from "../../../components/Badge.astro";

æœ¬æ–‡è¯¦ç»†ä»‹ç»äº† MyBatisPlus æ³¨è§£çš„ç”¨æ³•åŠå±æ€§ï¼Œæä¾›äº†æºç é“¾æ¥ä»¥ä¾¿æ·±å…¥ç†è§£ã€‚æ¬¢è¿é€šè¿‡ä¸‹æ–¹é“¾æ¥æŸ¥çœ‹æ³¨è§£ç±»çš„æºç ã€‚

> æºç é“¾æ¥ï¼šğŸ‘‰ [mybatis-plus-annotation](https://github.com/baomidou/mybatis-plus/tree/3.0/mybatis-plus-annotation/src/main/java/com/baomidou/mybatisplus/annotation)

## `@TableName`

`@TableName` æ³¨è§£ç”¨äºæ ‡è¯†å®ä½“ç±»å¯¹åº”çš„æ•°æ®åº“è¡¨åã€‚

```java {1}
@TableName("sys_user")
public class User {
    private Long id;
    private String name;
    private Integer age;
    private String email;
}
```

### value

<p>
    **ç±»å‹ï¼š** `String` <br/>
    **é»˜è®¤å€¼ï¼š** `""` <br/>
</p>

å¡«å†™å½“å‰å®ä½“ç±»æ‰€å¯¹åº”çš„æ•°æ®åº“è¡¨åã€‚

### schema

<p>
    **ç±»å‹ï¼š** `String` <br/>
    **é»˜è®¤å€¼ï¼š** `""` <br/>
</p>

å¡«å†™æ•°æ®åº“å¯¹åº”çš„ `Schema`ï¼Œé€šå¸¸ä¸ç”¨å¡«å†™ã€‚

### keepGlobalPrefix

<p>
    **ç±»å‹ï¼š** `boolean` <br/>
    **é»˜è®¤å€¼ï¼š** `false` <br/>
</p>

åœ¨å…¨å±€ `tablePrefix` é…ç½®ç”Ÿæ•ˆæ—¶æ˜¯å¦ä¿æŒä½¿ç”¨å…¨å±€çš„ `tablePrefix` çš„å€¼ã€‚

### resultMap

<p>
    **ç±»å‹ï¼š** `String` <br/>
    **é»˜è®¤å€¼ï¼š** `""` <br/>
</p>

å¡«å†™ `XML` ä¸­ `ResultMap` çš„ `id`ï¼Œç”¨äºæ»¡è¶³ç‰¹å®šç±»å‹çš„å®ä½“ç±»å¯¹è±¡ç»‘å®šã€‚

### autoResultMap

<p>
    **ç±»å‹ï¼š** `boolean` <br/>
    **é»˜è®¤å€¼ï¼š** `false` <br/>
</p>

æ˜¯å¦è‡ªåŠ¨æ„å»º `resultMap`ã€‚

:::note
å¦‚æœè®¾ç½® `resultMap` åˆ™ä¸ä¼šè¿›è¡Œ `resultMap` çš„è‡ªåŠ¨æ„å»ºä¸æ³¨å…¥
:::

MP ä¼šè‡ªåŠ¨æ„å»ºä¸€ä¸ª `resultMap` å¹¶æ³¨å…¥åˆ° MyBatis é‡Œï¼ˆä¸€èˆ¬ç”¨ä¸ä¸Šï¼‰ï¼Œè¯·æ³¨æ„ä»¥ä¸‹å†…å®¹ï¼š

å› ä¸º MP åº•å±‚æ˜¯ MyBatisï¼Œæ‰€ä»¥ MP åªæ˜¯å¸®æ‚¨æ³¨å…¥äº†å¸¸ç”¨ `CRUD` åˆ° MyBatis é‡Œï¼Œæ³¨å…¥ä¹‹å‰æ˜¯åŠ¨æ€çš„ï¼ˆæ ¹æ®æ‚¨çš„ `Entity` å­—æ®µä»¥åŠæ³¨è§£å˜åŒ–è€Œå˜åŒ–ï¼‰ï¼Œä½†æ˜¯æ³¨å…¥ä¹‹åæ˜¯é™æ€çš„ï¼ˆç­‰äº `XML` é…ç½®ä¸­çš„å†…å®¹ï¼‰ã€‚

åœ¨ä½¿ç”¨ `resultMap` ç›¸å…³çš„æ“ä½œæ—¶ï¼Œéœ€è¦æ³¨æ„ `typeHandler` ç›¸å…³çš„å¤„ç†ï¼Œå› ä¸º MyBatis åªæ”¯æŒå°† `typeHandler` å†™åœ¨ 2 ä¸ªåœ°æ–¹:

1. å®šä¹‰åœ¨ resultMap é‡Œï¼Œä½œç”¨äºæŸ¥è¯¢ç»“æœçš„å°è£…ã€‚
2. å®šä¹‰åœ¨ `insert` å’Œ `update` è¯­å¥çš„ `#{property}` ä¸­çš„ `property` åé¢ï¼ˆä¾‹ï¼š`#{property,typehandler=xxx.xxx.xxx}`ï¼‰ï¼Œå¹¶ä¸”åªä½œç”¨äºå½“å‰è®¾ç½®å€¼ã€‚

é™¤äº†ä»¥ä¸Šä¸¤ç§ç›´æ¥æŒ‡å®š `typeHandler` çš„å½¢å¼ï¼ŒMyBatis æœ‰ä¸€ä¸ªå…¨å±€æ‰«æè‡ªå®šä¹‰ `typeHandler` åŒ…çš„é…ç½®ï¼ŒåŸç†æ˜¯æ ¹æ®æ‚¨çš„ `property` ç±»å‹å»æ‰¾å…¶å¯¹åº”çš„ `typeHandler` å¹¶ä½¿ç”¨ã€‚


### excludeProperty

<p>
    **ç±»å‹ï¼š** `String[]` <br/>
    **é»˜è®¤å€¼ï¼š** `{}` <br/>
    **æ·»åŠ äºï¼š** <Badge text="@since 3.3.1" vertical="middle"/> <br/>
</p>

æŒ‡å®šéœ€è¦æ’é™¤çš„å±æ€§åã€‚

## `@TableId`

`@TableId` æ³¨è§£ç”¨äºæ ‡è¯†å®ä½“ç±»çš„ä¸»é”®å­—æ®µã€‚

```java {3}
@TableName("sys_user")
public class User {
    @TableId
    private Long id;
    private String name;
    private Integer age;
    private String email;
}
```

### value
<p>
    **ç±»å‹ï¼š** `String` <br/>
    **é»˜è®¤å€¼ï¼š** `""` <br/>
</p>

æŒ‡å®šå½“å‰è¡¨ä¸»é”®å­—æ®µåã€‚å¦‚æœä¸è®¾ç½®ï¼Œå°†ä½¿ç”¨å®ä½“ç±»çš„å­—æ®µåä½œä¸ºæ•°æ®åº“è¡¨çš„ä¸»é”®å­—æ®µã€‚

### type
<p>
    **ç±»å‹ï¼š** `Enum` <br/>
    **é»˜è®¤å€¼ï¼š** `IdType.NONE` <br/>
</p>

æŒ‡å®šä¸»é”®çš„ç”Ÿæˆç­–ç•¥ã€‚

`IdType` è¯¦ç»†çš„ç±»å‹å®šä¹‰å¦‚ä¸‹ï¼š

- `IdType.AUTO`ï¼šæ•°æ®åº“ ID è‡ªå¢ã€‚
- `IdType.NONE`ï¼šæ— çŠ¶æ€ï¼Œæœªè®¾ç½®ä¸»é”®ç±»å‹ï¼Œå¦‚æœå…¨å±€é…ç½®ä¸­æœ‰ IdType ç›¸å…³çš„é…ç½®ï¼Œåˆ™ä¼šè·Ÿéšå…¨å±€é…ç½®ã€‚
- `IdType.INPUT`ï¼šæ•°æ®åº“æ’å…¥æ“ä½œå‰è‡ªè¡Œè®¾ç½®ä¸»é”®å€¼ã€‚
- `IdType.ASSIGN_ID`ï¼šè‡ªåŠ¨åˆ†é… `ID`ï¼Œé€‚ç”¨äº `Long`ã€`Integer`ã€`String` ç±»å‹çš„ä¸»é”®ã€‚é»˜è®¤ä½¿ç”¨é›ªèŠ±ç®—æ³•é€šè¿‡ `IdentifierGenerator` çš„ `nextId` å®ç°ã€‚<Badge text="@since 3.3.0"/>
- `IdType.ASSIGN_UUID`ï¼šè‡ªåŠ¨åˆ†é… `UUID`ï¼Œé€‚ç”¨äº `String` ç±»å‹çš„ä¸»é”®ã€‚é»˜è®¤å®ç°ä¸º `IdentifierGenerator` çš„ `nextUUID` æ–¹æ³•ã€‚<Badge text="@since 3.3.0"/>

:::note
è¯·æ³¨æ„ï¼Œå·²å¼ƒç”¨çš„IDç±»å‹ï¼ˆå¦‚ `ID_WORKER`, `UUID`, `ID_WORKER_STR`ï¼‰åº”é¿å…ä½¿ç”¨ï¼Œå¹¶ä½¿ç”¨ `ASSIGN_ID` æˆ– `ASSIGN_UUID` ä»£æ›¿ã€‚
:::

## [@TableField](https://github.com/baomidou/mybatis-plus/blob/3.0/mybatis-plus-annotation/src/main/java/com/baomidou/mybatisplus/annotation/TableField.java)

- æè¿°ï¼šå­—æ®µæ³¨è§£ï¼ˆéä¸»é”®ï¼‰

```java {5}
@TableName("sys_user")
public class User {
    @TableId
    private Long id;
    @TableField("nickname")
    private String name;
    private Integer age;
    private String email;
}
```

| å±æ€§             | ç±»å‹                           | å¿…é¡»æŒ‡å®š | é»˜è®¤å€¼                   | æè¿°                                                                                                                                                                                                                                          |
| :--------------- | :----------------------------- | :------- | :----------------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| value            | String                         | å¦       | ""                       | æ•°æ®åº“å­—æ®µå                                                                                                                                                                                                                                  |
| exist            | boolean                        | å¦       | true                     | æ˜¯å¦ä¸ºæ•°æ®åº“è¡¨å­—æ®µ                                                                                                                                                                                                                            |
| condition        | String                         | å¦       | ""                       | å­—æ®µ `where` å®ä½“æŸ¥è¯¢æ¯”è¾ƒæ¡ä»¶ï¼Œæœ‰å€¼è®¾ç½®åˆ™æŒ‰è®¾ç½®çš„å€¼ä¸ºå‡†ï¼Œæ²¡æœ‰åˆ™ä¸ºé»˜è®¤å…¨å±€çš„ `%s=#{%s}`ï¼Œ[å‚è€ƒ](https://github.com/baomidou/mybatis-plus/blob/3.0/mybatis-plus-annotation/src/main/java/com/baomidou/mybatisplus/annotation/SqlCondition.java) |
| update           | String                         | å¦       | ""                       | å­—æ®µ `update set` éƒ¨åˆ†æ³¨å…¥ï¼Œä¾‹å¦‚ï¼šå½“åœ¨ version å­—æ®µä¸Šæ³¨è§£`update="%s+1"` è¡¨ç¤ºæ›´æ–°æ—¶ä¼š `set version=version+1` ï¼ˆè¯¥å±æ€§ä¼˜å…ˆçº§é«˜äº `el` å±æ€§ï¼‰                                                                                                  |
| insertStrategy   | Enum                           | å¦       | FieldStrategy.DEFAULT    | ä¸¾ä¾‹ï¼šNOT_NULL <br/> `insert into table_a(<if test="columnProperty != null">column</if>) values (<if test="columnProperty != null">#{columnProperty}</if>)`                                                                                   |
| updateStrategy   | Enum                           | å¦       | FieldStrategy.DEFAULT    | ä¸¾ä¾‹ï¼šIGNORED <br/> `update table_a set column=#{columnProperty}`                                                                                                                                                                             |
| whereStrategy    | Enum                           | å¦       | FieldStrategy.DEFAULT    | ä¸¾ä¾‹ï¼šNOT_EMPTY <br/> `where <if test="columnProperty != null and columnProperty!=''">column=#{columnProperty}</if>`                                                                                                                          |
| fill             | Enum                           | å¦       | FieldFill.DEFAULT        | å­—æ®µè‡ªåŠ¨å¡«å……ç­–ç•¥                                                                                                                                                                                                                              |
| select           | boolean                        | å¦       | true                     | æ˜¯å¦è¿›è¡Œ select æŸ¥è¯¢                                                                                                                                                                                                                          |
| keepGlobalFormat | boolean                        | å¦       | false                    | æ˜¯å¦ä¿æŒä½¿ç”¨å…¨å±€çš„ format è¿›è¡Œå¤„ç†                                                                                                                                                                                                            |
| jdbcType         | JdbcType                       | å¦       | JdbcType.UNDEFINED       | JDBC ç±»å‹ (è¯¥é»˜è®¤å€¼ä¸ä»£è¡¨ä¼šæŒ‰ç…§è¯¥å€¼ç”Ÿæ•ˆ)                                                                                                                                                                                                      |
| typeHandler      | `Class<? extends TypeHandler>` | å¦       | UnknownTypeHandler.class | ç±»å‹å¤„ç†å™¨ (è¯¥é»˜è®¤å€¼ä¸ä»£è¡¨ä¼šæŒ‰ç…§è¯¥å€¼ç”Ÿæ•ˆ)                                                                                                                                                                                                     |
| numericScale     | String                         | å¦       | ""                       | æŒ‡å®šå°æ•°ç‚¹åä¿ç•™çš„ä½æ•°                                                                                                                                                                                                                        |

::: warning å…³äº`jdbcType`å’Œ`typeHandler`ä»¥åŠ`numericScale`çš„è¯´æ˜:
`numericScale`åªç”Ÿæ•ˆäº update çš„ sql.
`jdbcType`å’Œ`typeHandler`å¦‚æœä¸é…åˆ`@TableName#autoResultMap = true`ä¸€èµ·ä½¿ç”¨,ä¹Ÿåªç”Ÿæ•ˆäº update çš„ sql.
å¯¹äº`typeHandler`å¦‚æœä½ çš„å­—æ®µç±»å‹å’Œ set è¿›å»çš„ç±»å‹ä¸º`equals`å…³ç³»,åˆ™åªéœ€è¦è®©ä½ çš„`typeHandler`è®© Mybatis åŠ è½½åˆ°å³å¯,ä¸éœ€è¦ä½¿ç”¨æ³¨è§£
:::

### [FieldStrategy](https://github.com/baomidou/mybatis-plus/blob/3.0/mybatis-plus-annotation/src/main/java/com/baomidou/mybatisplus/annotation/FieldStrategy.java)

| å€¼                | æè¿°                                                        |
| :---------------- | :---------------------------------------------------------- |
| IGNOREDï¼ˆå·²å¼ƒç”¨ï¼‰ | å¿½ç•¥åˆ¤æ–­ï¼Œæ•ˆæœç­‰åŒäº"ALWAYS"                                |
| ALWAYS            | æ€»æ˜¯åŠ å…¥ SQLï¼Œæ— è®ºå­—æ®µå€¼æ˜¯å¦ä¸º NULL                         |
| NOT_NULL          | é NULL åˆ¤æ–­                                                |
| NOT_EMPTY         | éç©ºåˆ¤æ–­(åªå¯¹å­—ç¬¦ä¸²ç±»å‹å­—æ®µ,å…¶ä»–ç±»å‹å­—æ®µä¾ç„¶ä¸ºé NULL åˆ¤æ–­) |
| DEFAULT           | è¿½éšå…¨å±€é…ç½®                                                |
| NEVER             | ä¸åŠ å…¥ SQL                                                  |

### [FieldFill](https://github.com/baomidou/mybatis-plus/blob/3.0/mybatis-plus-annotation/src/main/java/com/baomidou/mybatisplus/annotation/FieldFill.java)

| å€¼            | æè¿°                 |
| :------------ | :------------------- |
| DEFAULT       | é»˜è®¤ä¸å¤„ç†           |
| INSERT        | æ’å…¥æ—¶å¡«å……å­—æ®µ       |
| UPDATE        | æ›´æ–°æ—¶å¡«å……å­—æ®µ       |
| INSERT_UPDATE | æ’å…¥å’Œæ›´æ–°æ—¶å¡«å……å­—æ®µ |

## [@Version](https://github.com/baomidou/mybatis-plus/blob/3.0/mybatis-plus-annotation/src/main/java/com/baomidou/mybatisplus/annotation/Version.java)

- æè¿°ï¼šä¹è§‚é”æ³¨è§£ã€æ ‡è®° `@Version` åœ¨å­—æ®µä¸Š

## [@EnumValue](https://github.com/baomidou/mybatis-plus/blob/3.0/mybatis-plus-annotation/src/main/java/com/baomidou/mybatisplus/annotation/EnumValue.java)

- æè¿°ï¼šæ™®é€šæšä¸¾ç±»æ³¨è§£(æ³¨è§£åœ¨æšä¸¾å­—æ®µä¸Š)

## [@TableLogic](https://github.com/baomidou/mybatis-plus/blob/3.0/mybatis-plus-annotation/src/main/java/com/baomidou/mybatisplus/annotation/TableLogic.java)

- æè¿°ï¼šè¡¨å­—æ®µé€»è¾‘å¤„ç†æ³¨è§£ï¼ˆé€»è¾‘åˆ é™¤ï¼‰

| å±æ€§   | ç±»å‹   | å¿…é¡»æŒ‡å®š | é»˜è®¤å€¼ | æè¿°         |
| :----- | :----- | :------- | :----- | :----------- |
| value  | String | å¦       | ""     | é€»è¾‘æœªåˆ é™¤å€¼ |
| delval | String | å¦       | ""     | é€»è¾‘åˆ é™¤å€¼   |

## [@SqlParser](https://gitee.com/baomidou/mybatis-plus/blob/v3.4.0/mybatis-plus-annotation/src/main/java/com/baomidou/mybatisplus/annotation/SqlParser.java) <Badge text="Deprecated" type="warn"/>

> see [@InterceptorIgnore](#InterceptorIgnore)

## [@KeySequence](https://github.com/baomidou/mybatis-plus/blob/3.0/mybatis-plus-annotation/src/main/java/com/baomidou/mybatisplus/annotation/KeySequence.java)

- æè¿°ï¼šåºåˆ—ä¸»é”®ç­–ç•¥ `oracle`
- å±æ€§ï¼švalueã€dbType

| å±æ€§   | ç±»å‹   | å¿…é¡»æŒ‡å®š | é»˜è®¤å€¼       | æè¿°                                                                |
| :----- | :----- | :------- | :----------- | :------------------------------------------------------------------ |
| value  | String | å¦       | ""           | åºåˆ—å                                                              |
| dbType | Enum   | å¦       | DbType.OTHER | æ•°æ®åº“ç±»å‹ï¼Œæœªé…ç½®é»˜è®¤ä½¿ç”¨æ³¨å…¥ IKeyGenerator å®ç°ï¼Œå¤šä¸ªå®ç°å¿…é¡»æŒ‡å®š |

## [@InterceptorIgnore](https://gitee.com/baomidou/mybatis-plus/blob/3.0/mybatis-plus-annotation/src/main/java/com/baomidou/mybatisplus/annotation/InterceptorIgnore.java)

- `value` å€¼ä¸º `1` | `yes` | `on` è§†ä¸ºå¿½ç•¥ï¼Œä¾‹å¦‚ `@InterceptorIgnore(tenantLine = "1")`

- `value` å€¼ä¸º `0` | `false` | `off` | `ç©ºå€¼ä¸å˜` è§†ä¸ºæ­£å¸¸æ‰§è¡Œã€‚

> see [æ’ä»¶ä¸»ä½“](/pages/2976a3/)

## [@OrderBy](https://gitee.com/baomidou/mybatis-plus/blob/3.0/mybatis-plus-annotation/src/main/java/com/baomidou/mybatisplus/annotation/OrderBy.java)

- æè¿°ï¼šå†…ç½® SQL é»˜è®¤æŒ‡å®šæ’åºï¼Œä¼˜å…ˆçº§ä½äº wrapper æ¡ä»¶æŸ¥è¯¢

| å±æ€§ | ç±»å‹    | å¿…é¡»æŒ‡å®š | é»˜è®¤å€¼          | æè¿°           |
| :--- | :------ | :------- | :-------------- | :------------- |
| asc  | boolean | å¦       | true            | æ˜¯å¦å€’åºæŸ¥è¯¢   |
| sort | short   | å¦       | Short.MAX_VALUE | æ•°å­—è¶Šå°è¶Šé å‰ |
