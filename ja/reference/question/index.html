<!DOCTYPE html><html lang="ja" dir="ltr" data-has-toc data-has-sidebar data-theme="dark" class="astro-bguv2lll"> <head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>よくあるご質問 | MyBatis-Plus</title><link rel="canonical" href="https://baomidou.com/ja/reference/question/"/><link rel="alternate" hreflang="zh-CN" href="https://baomidou.com/reference/question/"/><link rel="alternate" hreflang="en" href="https://baomidou.com/en/reference/question/"/><link rel="alternate" hreflang="ja" href="https://baomidou.com/ja/reference/question/"/><link rel="sitemap" href="/sitemap-index.xml"/><script src="https://www.googletagmanager.com/gtag/js?id=G-7Y35RMZFVD" async></script><script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
          
            gtag('config', 'G-7Y35RMZFVD');
          </script><script>
            var _hmt = _hmt || [];
            (function() {
              var hm = document.createElement("script");
              hm.src = "https://hm.baidu.com/hm.js?577e65b88c06c034335c395caa4b6205";
              var s = document.getElementsByTagName("script")[0]; 
              s.parentNode.insertBefore(hm, s);
            })();
          </script><script src="https://cdn.wwads.cn/js/makemoney.js" async></script><script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4147143076931995" crossorigin="anonymous" async></script><script src="https://fundingchoicesmessages.google.com/i/pub-4147143076931995?ers=1" async></script><script>
            (function() {function signalGooglefcPresent() {if (!window.frames['googlefcPresent']) {if (document.body) {const iframe = document.createElement('iframe'); iframe.style = 'width: 0; height: 0; border: none; z-index: -1000; left: -1000px; top: -1000px;'; iframe.style.display = 'none'; iframe.name = 'googlefcPresent'; document.body.appendChild(iframe);} else {setTimeout(signalGooglefcPresent, 0);}}}signalGooglefcPresent();})();
          </script><script>
            (function(){'use strict';function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}var ba=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
            function ca(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var da=ca(this);function l(a,b){if(b)a:{var c=da;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&b!=null&&ba(c,a,{configurable:!0,writable:!0,value:b})}}
            function ea(a){return a.raw=a}function n(a){var b=typeof Symbol!="undefined"&&Symbol.iterator&&a[Symbol.iterator];if(b)return b.call(a);if(typeof a.length=="number")return{next:aa(a)};throw Error(String(a)+" is not an iterable or ArrayLike");}function fa(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c}var ha=typeof Object.create=="function"?Object.create:function(a){function b(){}b.prototype=a;return new b},p;
            if(typeof Object.setPrototypeOf=="function")p=Object.setPrototypeOf;else{var q;a:{var ja={a:!0},ka={};try{ka.__proto__=ja;q=ka.a;break a}catch(a){}q=!1}p=q?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var la=p;
            function t(a,b){a.prototype=ha(b.prototype);a.prototype.constructor=a;if(la)la(a,b);else for(var c in b)if(c!="prototype")if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.A=b.prototype}function ma(){for(var a=Number(this),b=[],c=a;c<arguments.length;c++)b[c-a]=arguments[c];return b}l("Object.is",function(a){return a?a:function(b,c){return b===c?b!==0||1/b===1/c:b!==b&&c!==c}});
            l("Array.prototype.includes",function(a){return a?a:function(b,c){var d=this;d instanceof String&&(d=String(d));var e=d.length;c=c||0;for(c<0&&(c=Math.max(c+e,0));c<e;c++){var f=d[c];if(f===b||Object.is(f,b))return!0}return!1}});
            l("String.prototype.includes",function(a){return a?a:function(b,c){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(b,c||0)!==-1}});l("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991});
            l("Number.isFinite",function(a){return a?a:function(b){return typeof b!=="number"?!1:!isNaN(b)&&b!==Infinity&&b!==-Infinity}});l("Number.isInteger",function(a){return a?a:function(b){return Number.isFinite(b)?b===Math.floor(b):!1}});l("Number.isSafeInteger",function(a){return a?a:function(b){return Number.isInteger(b)&&Math.abs(b)<=Number.MAX_SAFE_INTEGER}});
            l("Math.trunc",function(a){return a?a:function(b){b=Number(b);if(isNaN(b)||b===Infinity||b===-Infinity||b===0)return b;var c=Math.floor(Math.abs(b));return b<0?-c:c}});/*

            Copyright The Closure Library Authors.
            SPDX-License-Identifier: Apache-2.0
            */
            var u=this||self;function v(a,b){a:{var c=["CLOSURE_FLAGS"];for(var d=u,e=0;e<c.length;e++)if(d=d[c[e]],d==null){c=null;break a}c=d}a=c&&c[a];return a!=null?a:b}function w(a){return a};function na(a){u.setTimeout(function(){throw a;},0)};var oa=v(610401301,!1),pa=v(188588736,!0),qa=v(645172343,v(1,!0));var x,ra=u.navigator;x=ra?ra.userAgentData||null:null;function z(a){return oa?x?x.brands.some(function(b){return(b=b.brand)&&b.indexOf(a)!=-1}):!1:!1}function A(a){var b;a:{if(b=u.navigator)if(b=b.userAgent)break a;b=""}return b.indexOf(a)!=-1};function B(){return oa?!!x&&x.brands.length>0:!1}function C(){return B()?z("Chromium"):(A("Chrome")||A("CriOS"))&&!(B()?0:A("Edge"))||A("Silk")};var sa=B()?!1:A("Trident")||A("MSIE");!A("Android")||C();C();A("Safari")&&(C()||(B()?0:A("Coast"))||(B()?0:A("Opera"))||(B()?0:A("Edge"))||(B()?z("Microsoft Edge"):A("Edg/"))||B()&&z("Opera"));var ta={},D=null;var ua=typeof Uint8Array!=="undefined",va=!sa&&typeof btoa==="function";var wa;function E(){return typeof BigInt==="function"};var F=typeof Symbol==="function"&&typeof Symbol()==="symbol";function xa(a){return typeof Symbol==="function"&&typeof Symbol()==="symbol"?Symbol():a}var G=xa(),ya=xa("2ex");var za=F?function(a,b){a[G]|=b}:function(a,b){a.g!==void 0?a.g|=b:Object.defineProperties(a,{g:{value:b,configurable:!0,writable:!0,enumerable:!1}})},H=F?function(a){return a[G]|0}:function(a){return a.g|0},I=F?function(a){return a[G]}:function(a){return a.g},J=F?function(a,b){a[G]=b}:function(a,b){a.g!==void 0?a.g=b:Object.defineProperties(a,{g:{value:b,configurable:!0,writable:!0,enumerable:!1}})};function Aa(a,b){J(b,(a|0)&-14591)}function Ba(a,b){J(b,(a|34)&-14557)};var K={},Ca={};function Da(a){return!(!a||typeof a!=="object"||a.g!==Ca)}function Ea(a){return a!==null&&typeof a==="object"&&!Array.isArray(a)&&a.constructor===Object}function L(a,b,c){if(!Array.isArray(a)||a.length)return!1;var d=H(a);if(d&1)return!0;if(!(b&&(Array.isArray(b)?b.includes(c):b.has(c))))return!1;J(a,d|1);return!0};var M=0,N=0;function Fa(a){var b=a>>>0;M=b;N=(a-b)/4294967296>>>0}function Ga(a){if(a<0){Fa(-a);var b=n(Ha(M,N));a=b.next().value;b=b.next().value;M=a>>>0;N=b>>>0}else Fa(a)}function Ia(a,b){b>>>=0;a>>>=0;if(b<=2097151)var c=""+(4294967296*b+a);else E()?c=""+(BigInt(b)<<BigInt(32)|BigInt(a)):(c=(a>>>24|b<<8)&16777215,b=b>>16&65535,a=(a&16777215)+c*6777216+b*6710656,c+=b*8147497,b*=2,a>=1E7&&(c+=a/1E7>>>0,a%=1E7),c>=1E7&&(b+=c/1E7>>>0,c%=1E7),c=b+Ja(c)+Ja(a));return c}
            function Ja(a){a=String(a);return"0000000".slice(a.length)+a}function Ha(a,b){b=~b;a?a=~a+1:b+=1;return[a,b]};var Ka=/^-?([1-9][0-9]*|0)(.[0-9]+)?$/;var O;function La(a,b){O=b;a=new a(b);O=void 0;return a}
            function P(a,b,c){a==null&&(a=O);O=void 0;if(a==null){var d=96;c?(a=[c],d|=512):a=[];b&&(d=d&-16760833|(b&1023)<<14)}else{if(!Array.isArray(a))throw Error("narr");d=H(a);if(d&2048)throw Error("farr");if(d&64)return a;d|=64;if(c&&(d|=512,c!==a[0]))throw Error("mid");a:{c=a;var e=c.length;if(e){var f=e-1;if(Ea(c[f])){d|=256;b=f-(+!!(d&512)-1);if(b>=1024)throw Error("pvtlmt");d=d&-16760833|(b&1023)<<14;break a}}if(b){b=Math.max(b,e-(+!!(d&512)-1));if(b>1024)throw Error("spvt");d=d&-16760833|(b&1023)<<
            14}}}J(a,d);return a};function Ma(a){switch(typeof a){case "number":return isFinite(a)?a:String(a);case "boolean":return a?1:0;case "object":if(a)if(Array.isArray(a)){if(L(a,void 0,0))return}else if(ua&&a!=null&&a instanceof Uint8Array){if(va){for(var b="",c=0,d=a.length-10240;c<d;)b+=String.fromCharCode.apply(null,a.subarray(c,c+=10240));b+=String.fromCharCode.apply(null,c?a.subarray(c):a);a=btoa(b)}else{b===void 0&&(b=0);if(!D){D={};c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split("");d=["+/=",
            "+/","-_=","-_.","-_"];for(var e=0;e<5;e++){var f=c.concat(d[e].split(""));ta[e]=f;for(var g=0;g<f.length;g++){var h=f[g];D[h]===void 0&&(D[h]=g)}}}b=ta[b];c=Array(Math.floor(a.length/3));d=b[64]||"";for(e=f=0;f<a.length-2;f+=3){var k=a[f],m=a[f+1];h=a[f+2];g=b[k>>2];k=b[(k&3)<<4|m>>4];m=b[(m&15)<<2|h>>6];h=b[h&63];c[e++]=g+k+m+h}g=0;h=d;switch(a.length-f){case 2:g=a[f+1],h=b[(g&15)<<2]||d;case 1:a=a[f],c[e]=b[a>>2]+b[(a&3)<<4|g>>4]+h+d}a=c.join("")}return a}}return a};function Na(a,b,c){a=Array.prototype.slice.call(a);var d=a.length,e=b&256?a[d-1]:void 0;d+=e?-1:0;for(b=b&512?1:0;b<d;b++)a[b]=c(a[b]);if(e){b=a[b]={};for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(b[f]=c(e[f]))}return a}function Oa(a,b,c,d,e){if(a!=null){if(Array.isArray(a))a=L(a,void 0,0)?void 0:e&&H(a)&2?a:Pa(a,b,c,d!==void 0,e);else if(Ea(a)){var f={},g;for(g in a)Object.prototype.hasOwnProperty.call(a,g)&&(f[g]=Oa(a[g],b,c,d,e));a=f}else a=b(a,d);return a}}
            function Pa(a,b,c,d,e){var f=d||c?H(a):0;d=d?!!(f&32):void 0;a=Array.prototype.slice.call(a);for(var g=0;g<a.length;g++)a[g]=Oa(a[g],b,c,d,e);c&&c(f,a);return a}function Qa(a){return a.s===K?a.toJSON():Ma(a)};function Ra(a,b,c){c=c===void 0?Ba:c;if(a!=null){if(ua&&a instanceof Uint8Array)return b?a:new Uint8Array(a);if(Array.isArray(a)){var d=H(a);if(d&2)return a;b&&(b=d===0||!!(d&32)&&!(d&64||!(d&16)));return b?(J(a,(d|34)&-12293),a):Pa(a,Ra,d&4?Ba:c,!0,!0)}a.s===K&&(c=a.h,d=I(c),a=d&2?a:La(a.constructor,Sa(c,d,!0)));return a}}function Sa(a,b,c){var d=c||b&2?Ba:Aa,e=!!(b&32);a=Na(a,b,function(f){return Ra(f,e,d)});za(a,32|(c?2:0));return a};function Ta(a,b){a=a.h;return Ua(a,I(a),b)}function Va(a,b,c,d){b=d+(+!!(b&512)-1);if(!(b<0||b>=a.length||b>=c))return a[b]}
            function Ua(a,b,c,d){if(c===-1)return null;var e=b>>14&1023||536870912;if(c>=e){if(b&256)return a[a.length-1][c]}else{var f=a.length;if(d&&b&256&&(d=a[f-1][c],d!=null)){if(Va(a,b,e,c)&&ya!=null){var g;a=(g=wa)!=null?g:wa={};g=a[ya]||0;g>=4||(a[ya]=g+1,g=Error(),g.__closure__error__context__984382||(g.__closure__error__context__984382={}),g.__closure__error__context__984382.severity="incident",na(g))}return d}return Va(a,b,e,c)}}
            function Wa(a,b,c,d,e){var f=b>>14&1023||536870912;if(c>=f||e&&!qa){var g=b;if(b&256)e=a[a.length-1];else{if(d==null)return;e=a[f+(+!!(b&512)-1)]={};g|=256}e[c]=d;c<f&&(a[c+(+!!(b&512)-1)]=void 0);g!==b&&J(a,g)}else a[c+(+!!(b&512)-1)]=d,b&256&&(a=a[a.length-1],c in a&&delete a[c])}
            function Xa(a,b){var c=Ya;var d=d===void 0?!1:d;var e=a.h;var f=I(e),g=Ua(e,f,b,d);if(g!=null&&typeof g==="object"&&g.s===K)c=g;else if(Array.isArray(g)){var h=H(g),k=h;k===0&&(k|=f&32);k|=f&2;k!==h&&J(g,k);c=new c(g)}else c=void 0;c!==g&&c!=null&&Wa(e,f,b,c,d);e=c;if(e==null)return e;a=a.h;f=I(a);f&2||(g=e,c=g.h,h=I(c),g=h&2?La(g.constructor,Sa(c,h,!1)):g,g!==e&&(e=g,Wa(a,f,b,e,d)));return e}function Za(a,b){a=Ta(a,b);return a==null||typeof a==="string"?a:void 0}
            function $a(a,b){var c=c===void 0?0:c;a=Ta(a,b);if(a!=null)if(b=typeof a,b==="number"?Number.isFinite(a):b!=="string"?0:Ka.test(a))if(typeof a==="number"){if(a=Math.trunc(a),!Number.isSafeInteger(a)){Ga(a);b=M;var d=N;if(a=d&2147483648)b=~b+1>>>0,d=~d>>>0,b==0&&(d=d+1>>>0);b=d*4294967296+(b>>>0);a=a?-b:b}}else if(b=Math.trunc(Number(a)),Number.isSafeInteger(b))a=String(b);else{if(b=a.indexOf("."),b!==-1&&(a=a.substring(0,b)),!(a[0]==="-"?a.length<20||a.length===20&&Number(a.substring(0,7))>-922337:
            a.length<19||a.length===19&&Number(a.substring(0,6))<922337)){if(a.length<16)Ga(Number(a));else if(E())a=BigInt(a),M=Number(a&BigInt(4294967295))>>>0,N=Number(a>>BigInt(32)&BigInt(4294967295));else{b=+(a[0]==="-");N=M=0;d=a.length;for(var e=b,f=(d-b)%6+b;f<=d;e=f,f+=6)e=Number(a.slice(e,f)),N*=1E6,M=M*1E6+e,M>=4294967296&&(N+=Math.trunc(M/4294967296),N>>>=0,M>>>=0);b&&(b=n(Ha(M,N)),a=b.next().value,b=b.next().value,M=a,N=b)}a=M;b=N;b&2147483648?E()?a=""+(BigInt(b|0)<<BigInt(32)|BigInt(a>>>0)):(b=
            n(Ha(a,b)),a=b.next().value,b=b.next().value,a="-"+Ia(a,b)):a=Ia(a,b)}}else a=void 0;return a!=null?a:c}function R(a,b){var c=c===void 0?"":c;a=Za(a,b);return a!=null?a:c};var S;function T(a,b,c){this.h=P(a,b,c)}T.prototype.toJSON=function(){return ab(this)};T.prototype.s=K;T.prototype.toString=function(){try{return S=!0,ab(this).toString()}finally{S=!1}};
            function ab(a){var b=S?a.h:Pa(a.h,Qa,void 0,void 0,!1);var c=!S;var d=pa?void 0:a.constructor.v;var e=I(c?a.h:b);if(a=b.length){var f=b[a-1],g=Ea(f);g?a--:f=void 0;e=+!!(e&512)-1;var h=b;if(g){b:{var k=f;var m={};g=!1;if(k)for(var r in k)if(Object.prototype.hasOwnProperty.call(k,r))if(isNaN(+r))m[r]=k[r];else{var y=k[r];Array.isArray(y)&&(L(y,d,+r)||Da(y)&&y.size===0)&&(y=null);y==null&&(g=!0);y!=null&&(m[r]=y)}if(g){for(var Q in m)break b;m=null}else m=k}k=m==null?f!=null:m!==f}for(var ia;a>0;a--){Q=
            a-1;r=h[Q];Q-=e;if(!(r==null||L(r,d,Q)||Da(r)&&r.size===0))break;ia=!0}if(h!==b||k||ia){if(!c)h=Array.prototype.slice.call(h,0,a);else if(ia||k||m)h.length=a;m&&h.push(m)}b=h}return b};function bb(a){return function(b){if(b==null||b=="")b=new a;else{b=JSON.parse(b);if(!Array.isArray(b))throw Error("dnarr");za(b,32);b=La(a,b)}return b}};function cb(a){this.h=P(a)}t(cb,T);var db=bb(cb);var U;function V(a){this.g=a}V.prototype.toString=function(){return this.g+""};var eb={};function fb(a){if(U===void 0){var b=null;var c=u.trustedTypes;if(c&&c.createPolicy){try{b=c.createPolicy("goog#html",{createHTML:w,createScript:w,createScriptURL:w})}catch(d){u.console&&u.console.error(d.message)}U=b}else U=b}a=(b=U)?b.createScriptURL(a):a;return new V(a,eb)};/*

            SPDX-License-Identifier: Apache-2.0
            */
            function gb(a){var b=ma.apply(1,arguments);if(b.length===0)return fb(a[0]);for(var c=a[0],d=0;d<b.length;d++)c+=encodeURIComponent(b[d])+a[d+1];return fb(c)};function hb(a,b){a.src=b instanceof V&&b.constructor===V?b.g:"type_error:TrustedResourceUrl";var c,d;(c=(b=(d=(c=(a.ownerDocument&&a.ownerDocument.defaultView||window).document).querySelector)==null?void 0:d.call(c,"script[nonce]"))?b.nonce||b.getAttribute("nonce")||"":"")&&a.setAttribute("nonce",c)};function ib(){return Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)};function jb(a,b){b=String(b);a.contentType==="application/xhtml+xml"&&(b=b.toLowerCase());return a.createElement(b)}function kb(a){this.g=a||u.document||document};function lb(a){a=a===void 0?document:a;return a.createElement("script")};function mb(a,b,c,d,e,f){try{var g=a.g,h=lb(g);h.async=!0;hb(h,b);g.head.appendChild(h);h.addEventListener("load",function(){e();d&&g.head.removeChild(h)});h.addEventListener("error",function(){c>0?mb(a,b,c-1,d,e,f):(d&&g.head.removeChild(h),f())})}catch(k){f()}};var nb=u.atob("aHR0cHM6Ly93d3cuZ3N0YXRpYy5jb20vaW1hZ2VzL2ljb25zL21hdGVyaWFsL3N5c3RlbS8xeC93YXJuaW5nX2FtYmVyXzI0ZHAucG5n"),ob=u.atob("WW91IGFyZSBzZWVpbmcgdGhpcyBtZXNzYWdlIGJlY2F1c2UgYWQgb3Igc2NyaXB0IGJsb2NraW5nIHNvZnR3YXJlIGlzIGludGVyZmVyaW5nIHdpdGggdGhpcyBwYWdlLg=="),pb=u.atob("RGlzYWJsZSBhbnkgYWQgb3Igc2NyaXB0IGJsb2NraW5nIHNvZnR3YXJlLCB0aGVuIHJlbG9hZCB0aGlzIHBhZ2Uu");function qb(a,b,c){this.i=a;this.u=b;this.o=c;this.g=null;this.j=[];this.m=!1;this.l=new kb(this.i)}
            function rb(a){if(a.i.body&&!a.m){var b=function(){sb(a);u.setTimeout(function(){tb(a,3)},50)};mb(a.l,a.u,2,!0,function(){u[a.o]||b()},b);a.m=!0}}
            function sb(a){for(var b=W(1,5),c=0;c<b;c++){var d=X(a);a.i.body.appendChild(d);a.j.push(d)}b=X(a);b.style.bottom="0";b.style.left="0";b.style.position="fixed";b.style.width=W(100,110).toString()+"%";b.style.zIndex=W(2147483544,2147483644).toString();b.style.backgroundColor=ub(249,259,242,252,219,229);b.style.boxShadow="0 0 12px #888";b.style.color=ub(0,10,0,10,0,10);b.style.display="flex";b.style.justifyContent="center";b.style.fontFamily="Roboto, Arial";c=X(a);c.style.width=W(80,85).toString()+
            "%";c.style.maxWidth=W(750,775).toString()+"px";c.style.margin="24px";c.style.display="flex";c.style.alignItems="flex-start";c.style.justifyContent="center";d=jb(a.l.g,"IMG");d.className=ib();d.src=nb;d.alt="Warning icon";d.style.height="24px";d.style.width="24px";d.style.paddingRight="16px";var e=X(a),f=X(a);f.style.fontWeight="bold";f.textContent=ob;var g=X(a);g.textContent=pb;Y(a,e,f);Y(a,e,g);Y(a,c,d);Y(a,c,e);Y(a,b,c);a.g=b;a.i.body.appendChild(a.g);b=W(1,5);for(c=0;c<b;c++)d=X(a),a.i.body.appendChild(d),
            a.j.push(d)}function Y(a,b,c){for(var d=W(1,5),e=0;e<d;e++){var f=X(a);b.appendChild(f)}b.appendChild(c);c=W(1,5);for(d=0;d<c;d++)e=X(a),b.appendChild(e)}function W(a,b){return Math.floor(a+Math.random()*(b-a))}function ub(a,b,c,d,e,f){return"rgb("+W(Math.max(a,0),Math.min(b,255)).toString()+","+W(Math.max(c,0),Math.min(d,255)).toString()+","+W(Math.max(e,0),Math.min(f,255)).toString()+")"}function X(a){a=jb(a.l.g,"DIV");a.className=ib();return a}
            function tb(a,b){b<=0||a.g!=null&&a.g.offsetHeight!==0&&a.g.offsetWidth!==0||(vb(a),sb(a),u.setTimeout(function(){tb(a,b-1)},50))}function vb(a){for(var b=n(a.j),c=b.next();!c.done;c=b.next())(c=c.value)&&c.parentNode&&c.parentNode.removeChild(c);a.j=[];(b=a.g)&&b.parentNode&&b.parentNode.removeChild(b);a.g=null};function wb(a,b,c,d,e){function f(k){document.body?g(document.body):k>0?u.setTimeout(function(){f(k-1)},e):b()}function g(k){k.appendChild(h);u.setTimeout(function(){h?(h.offsetHeight!==0&&h.offsetWidth!==0?b():a(),h.parentNode&&h.parentNode.removeChild(h)):a()},d)}var h=xb(c);f(3)}function xb(a){var b=document.createElement("div");b.className=a;b.style.width="1px";b.style.height="1px";b.style.position="absolute";b.style.left="-10000px";b.style.top="-10000px";b.style.zIndex="-10000";return b};function Ya(a){this.h=P(a)}t(Ya,T);function yb(a){this.h=P(a)}t(yb,T);var zb=bb(yb);function Ab(a){if(!a)return null;a=Za(a,4);var b;a===null||a===void 0?b=null:b=fb(a);return b};var Bb=ea([""]),Cb=ea([""]);function Db(a,b){this.m=a;this.o=new kb(a.document);this.g=b;this.j=R(this.g,1);this.u=Ab(Xa(this.g,2))||gb(Bb);this.i=!1;b=Ab(Xa(this.g,13))||gb(Cb);this.l=new qb(a.document,b,R(this.g,12))}Db.prototype.start=function(){Eb(this)};
            function Eb(a){Fb(a);mb(a.o,a.u,3,!1,function(){a:{var b=a.j;var c=u.btoa(b);if(c=u[c]){try{var d=db(u.atob(c))}catch(e){b=!1;break a}b=b===Za(d,1)}else b=!1}b?Z(a,R(a.g,14)):(Z(a,R(a.g,8)),rb(a.l))},function(){wb(function(){Z(a,R(a.g,7));rb(a.l)},function(){return Z(a,R(a.g,6))},R(a.g,9),$a(a.g,10),$a(a.g,11))})}function Z(a,b){a.i||(a.i=!0,a=new a.m.XMLHttpRequest,a.open("GET",b,!0),a.send())}function Fb(a){var b=u.btoa(a.j);a.m[b]&&Z(a,R(a.g,5))};(function(a,b){u[a]=function(){var c=ma.apply(0,arguments);u[a]=function(){};b.call.apply(b,[null].concat(c instanceof Array?c:fa(n(c))))}})("__h82AlnkH6D91__",function(a){typeof window.atob==="function"&&(new Db(window,zb(window.atob(a)))).start()});}).call(this);

            window.__h82AlnkH6D91__("WyJwdWItNDE0NzE0MzA3NjkzMTk5NSIsW251bGwsbnVsbCxudWxsLCJodHRwczovL2Z1bmRpbmdjaG9pY2VzbWVzc2FnZXMuZ29vZ2xlLmNvbS9iL3B1Yi00MTQ3MTQzMDc2OTMxOTk1Il0sbnVsbCxudWxsLCJodHRwczovL2Z1bmRpbmdjaG9pY2VzbWVzc2FnZXMuZ29vZ2xlLmNvbS9lbC9BR1NLV3hWX1dBYnJMWWdVMnRCVTFvWDNsdzU1QVF3WlJDaDE4SUt1V1NURzRIVTU4YVRXV08yWkcyX2VTei1DYnBMOTlaZllMLXVqQmxVWmVOMVM4dlpQSWVRa1R3XHUwMDNkXHUwMDNkP3RlXHUwMDNkVE9LRU5fRVhQT1NFRCIsImh0dHBzOi8vZnVuZGluZ2Nob2ljZXNtZXNzYWdlcy5nb29nbGUuY29tL2VsL0FHU0tXeFZGTnN1aTVBdkdfZG9VUDVUQ1BWZERLWXJsNGVOWnZ3REVVRVdGLURVblhkcUJ6ZDNNSlE1MEJtVTF1dHNuY09XT3hGQ0k2R2FFS0d4bERUMnc2YVlLblFcdTAwM2RcdTAwM2Q/YWJcdTAwM2QxXHUwMDI2c2JmXHUwMDNkMSIsImh0dHBzOi8vZnVuZGluZ2Nob2ljZXNtZXNzYWdlcy5nb29nbGUuY29tL2VsL0FHU0tXeFdSb3JtRzd3YjVoREdNV0tLLTFKaGFMeWZyWHVNa3JCU0tFX1NFb01jczJuU3ZaNE5iS3R4LVlTN2ROQTc2S2RsUlU5cHZ4NmlPZnZQSEoxVHl2cm93ZFFcdTAwM2RcdTAwM2Q/YWJcdTAwM2QyXHUwMDI2c2JmXHUwMDNkMSIsImh0dHBzOi8vZnVuZGluZ2Nob2ljZXNtZXNzYWdlcy5nb29nbGUuY29tL2VsL0FHU0tXeFZvMmVPa29EUHNZQnZEbGFCVGFuSHpTUXdTRDI2QlBpZUI1Z21UNUozVVNaUGx0T3BHY0NwRTJZc296NksyYTFQZEFxMHhST20zSHJOcXFJWmdCRmJzTmdcdTAwM2RcdTAwM2Q/c2JmXHUwMDNkMiIsImRpdi1ncHQtYWQiLDIwLDEwMCwiY0hWaUxUUXhORGN4TkRNd056WTVNekU1T1RVXHUwMDNkIixbbnVsbCxudWxsLG51bGwsImh0dHBzOi8vd3d3LmdzdGF0aWMuY29tLzBlbW4vZi9wL3B1Yi00MTQ3MTQzMDc2OTMxOTk1LmpzP3VzcXBcdTAwM2RDQWciXSwiaHR0cHM6Ly9mdW5kaW5nY2hvaWNlc21lc3NhZ2VzLmdvb2dsZS5jb20vZWwvQUdTS1d4VjF4aWpWdkh4TEpWemF3VnhaVFkxeXBKaTI1Tnp6bnNNTlFTODBwUFBJb2hKT21OWXRNeHBvc0NuSmhuLTZhb3FHTGplbU5yRFFVeVZadGdjclVCYWt2QVx1MDAzZFx1MDAzZCJd");
          </script><link rel="shortcut icon" href="/favicon.svg" type="image/svg+xml"/><meta name="generator" content="Astro v4.16.19"/><meta name="generator" content="Starlight v0.21.5"/><meta property="og:title" content="よくあるご質問"/><meta property="og:type" content="article"/><meta property="og:url" content="https://baomidou.com/ja/reference/question/"/><meta property="og:locale" content="ja"/><meta property="og:description"/><meta property="og:site_name" content="MyBatis-Plus"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="よくあるご質問"/><meta name="twitter:description"/><script>
	window.StarlightThemeProvider = (() => {
		const storedTheme =
			typeof localStorage !== 'undefined' && localStorage.getItem('starlight-theme');
		const theme =
			storedTheme ||
			(window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark');
		document.documentElement.dataset.theme = theme === 'light' ? 'light' : 'dark';
		return {
			updatePickers(theme = storedTheme || 'auto') {
				document.querySelectorAll('starlight-theme-select').forEach((picker) => {
					const select = picker.querySelector('select');
					if (select) select.value = theme;
					/** @type {HTMLTemplateElement | null} */
					const tmpl = document.querySelector(`#theme-icons`);
					const newIcon = tmpl && tmpl.content.querySelector('.' + theme);
					if (newIcon) {
						const oldIcon = picker.querySelector('svg.label-icon');
						if (oldIcon) {
							oldIcon.replaceChildren(...newIcon.cloneNode(true).childNodes);
						}
					}
				});
			},
		};
	})();
</script><template id="theme-icons"><svg aria-hidden="true" class="light astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M5 12a1 1 0 0 0-1-1H3a1 1 0 0 0 0 2h1a1 1 0 0 0 1-1Zm.64 5-.71.71a1 1 0 0 0 0 1.41 1 1 0 0 0 1.41 0l.71-.71A1 1 0 0 0 5.64 17ZM12 5a1 1 0 0 0 1-1V3a1 1 0 0 0-2 0v1a1 1 0 0 0 1 1Zm5.66 2.34a1 1 0 0 0 .7-.29l.71-.71a1 1 0 1 0-1.41-1.41l-.66.71a1 1 0 0 0 0 1.41 1 1 0 0 0 .66.29Zm-12-.29a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.71-.71a1.004 1.004 0 1 0-1.43 1.41l.73.71ZM21 11h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2Zm-2.64 6A1 1 0 0 0 17 18.36l.71.71a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.76-.66ZM12 6.5a5.5 5.5 0 1 0 5.5 5.5A5.51 5.51 0 0 0 12 6.5Zm0 9a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7Zm0 3.5a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1a1 1 0 0 0-1-1Z"/></svg> <svg aria-hidden="true" class="dark astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.64 13a1 1 0 0 0-1.05-.14 8.049 8.049 0 0 1-3.37.73 8.15 8.15 0 0 1-8.14-8.1 8.59 8.59 0 0 1 .25-2A1 1 0 0 0 8 2.36a10.14 10.14 0 1 0 14 11.69 1 1 0 0 0-.36-1.05Zm-9.5 6.69A8.14 8.14 0 0 1 7.08 5.22v.27a10.15 10.15 0 0 0 10.14 10.14 9.784 9.784 0 0 0 2.1-.22 8.11 8.11 0 0 1-7.18 4.32v-.04Z"/></svg> <svg aria-hidden="true" class="auto astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg> </template><link rel="stylesheet" href="/assets/asset.iP0xVzb8.css">
<style>svg:where(.astro-c6vsoqas){color:var(--sl-icon-color);font-size:var(--sl-icon-size, 1em);width:1em;height:1em}
</style><script type="module" src="/entry.CqJNwmHE.mjs"></script>
<script type="module" src="/entry.7qqag-5g.mjs"></script></head> <body class="astro-bguv2lll"> <a href="#_top" class="astro-7q3lir66">コンテンツにスキップ</a>  <div class="page sl-flex astro-vrdttmbt"> <header class="header astro-vrdttmbt"><div class="header sl-flex astro-kmkmnagf"> <div class="title-wrapper sl-flex astro-kmkmnagf"> <a href="/ja" class="site-title sl-flex astro-m46x6ez3">  <img class="astro-m46x6ez3" alt="" src="/assets/asset.cIbiVTt_.svg" width="770" height="660">  <span class="astro-m46x6ez3"> MyBatis-Plus </span> </a>  </div> <div class="sl-flex astro-kmkmnagf"> <site-search data-translations="{&#34;placeholder&#34;:&#34;検索&#34;}" class="astro-v37mnknz"> <button data-open-modal disabled class="astro-v37mnknz">  <svg aria-label="検索" class="astro-v37mnknz astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.71 20.29 18 16.61A9 9 0 1 0 16.61 18l3.68 3.68a.999.999 0 0 0 1.42 0 1 1 0 0 0 0-1.39ZM11 18a7 7 0 1 1 0-14 7 7 0 0 1 0 14Z"/></svg>  <span class="sl-hidden md:sl-block astro-v37mnknz" aria-hidden="true">検索</span> <svg aria-label="（/を押して検索）" class="sl-hidden md:sl-block astro-v37mnknz astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 2H7a5 5 0 0 0-5 5v10a5 5 0 0 0 5 5h10a5 5 0 0 0 5-5V7a5 5 0 0 0-5-5Zm3 15a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3V7a3 3 0 0 1 3-3h10a3 3 0 0 1 3 3v10Z"/><path d="M15.293 6.707a1 1 0 1 1 1.414 1.414l-8.485 8.486a1 1 0 0 1-1.414-1.415l8.485-8.485Z"/></svg>  </button> <dialog style="padding:0" aria-label="検索" class="astro-v37mnknz"> <div class="dialog-frame sl-flex astro-v37mnknz">  <button data-close-modal class="sl-flex md:sl-hidden astro-v37mnknz"> キャンセル </button> <div class="search-container astro-v37mnknz"> <div id="starlight__search" class="astro-v37mnknz"></div> </div> </div> </dialog> </site-search>    </div> <div class="sl-hidden md:sl-flex right-group astro-kmkmnagf"> <div class="sl-flex social-icons astro-kmkmnagf"> <a href="https://github.com/baomidou/mybatis-plus" rel="me" class="sl-flex astro-wy4te6ga"><span class="sr-only astro-wy4te6ga">GitHub</span><svg aria-hidden="true" class="astro-wy4te6ga astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg> </a> </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-4yphtoen"> <span class="sr-only astro-4yphtoen">テーマの選択</span> <svg aria-hidden="true" class="icon label-icon astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg>  <select value="auto" class="astro-4yphtoen"> <option value="dark" class="astro-4yphtoen">ダーク</option><option value="light" class="astro-4yphtoen">ライト</option><option value="auto" selected class="astro-4yphtoen">自動</option> </select> <svg aria-hidden="true" class="icon caret astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script>  <starlight-lang-select><label style="--sl-select-width: 7em" class="astro-4yphtoen"> <span class="sr-only astro-4yphtoen">言語の選択</span> <svg aria-hidden="true" class="icon label-icon astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path fill-rule="evenodd" d="M8.516 3a.94.94 0 0 0-.941.94v1.15H2.94a.94.94 0 1 0 0 1.882h7.362a7.422 7.422 0 0 1-1.787 3.958 7.42 7.42 0 0 1-1.422-2.425.94.94 0 1 0-1.774.627 9.303 9.303 0 0 0 1.785 3.043 7.422 7.422 0 0 1-4.164 1.278.94.94 0 1 0 0 1.881 9.303 9.303 0 0 0 5.575-1.855 9.303 9.303 0 0 0 4.11 1.74l-.763 1.525a.968.968 0 0 0-.016.034l-1.385 2.77a.94.94 0 1 0 1.683.841l1.133-2.267h5.806l1.134 2.267a.94.94 0 0 0 1.683-.841l-1.385-2.769a.95.95 0 0 0-.018-.036l-3.476-6.951a.94.94 0 0 0-1.682 0l-1.82 3.639a7.423 7.423 0 0 1-3.593-1.256 9.303 9.303 0 0 0 2.27-5.203h1.894a.94.94 0 0 0 0-1.881H9.456V3.94A.94.94 0 0 0 8.516 3Zm6.426 11.794a1.068 1.068 0 0 1-.02.039l-.703 1.407h3.924l-1.962-3.924-1.24 2.478Z" clip-rule="evenodd"/></svg>  <select value="/ja/reference/question/" class="astro-4yphtoen"> <option value="/reference/question/" class="astro-4yphtoen">简体中文</option><option value="/en/reference/question/" class="astro-4yphtoen">English</option><option value="/ja/reference/question/" selected class="astro-4yphtoen">日本語</option> </select> <svg aria-hidden="true" class="icon caret astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </label> </starlight-lang-select> </div> </div>  <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();;(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="nQvTc" component-url="/entry.Bmu_7GhL.mjs" component-export="default" renderer-url="/entry.CWY0IrnN.mjs" props="{}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CheckAdBlocked&quot;,&quot;value&quot;:true}" await-children=""> <div class="hidden fixed top-0 left-0 right-0 bg-blue-500 text-white shadow-md z-[9999] border-b border-blue-600"><div class="max-w-6xl mx-auto px-4 py-2"><div class="flex items-center justify-between"><div class="flex items-center space-x-2" data-svelte-h="svelte-5o8cm8"><svg class="w-4 h-4 text-yellow-300 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg> <p class="text-sm text-white/90">我们的广告服务商并不跟踪您的隐私，为了支持本站的长期运营，请将我们的网站加入广告拦截器的白名单，谢谢！</p></div> <div class="flex items-center space-x-1"><a href="https://wwads.cn/page/end-user-privacy" target="_blank" class="hidden lg:inline-flex items-center px-2 py-1 text-xs text-blue-100 hover:text-white hover:bg-white/10 rounded transition-colors no-underline" data-svelte-h="svelte-lbzqks">隐私声明</a> <a href="https://wwads.cn/page/whitelist-wwads" target="_blank" class="hidden lg:inline-flex items-center px-2 py-1 text-xs text-blue-100 hover:text-white hover:bg-white/10 rounded transition-colors no-underline" data-svelte-h="svelte-103clhm">白名单教程</a> <span class="flex items-center justify-center p-1 text-blue-200 hover:text-white transition-colors cursor-pointer" role="button" tabindex="0" aria-label="关闭通知" data-svelte-h="svelte-c7gwbr"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></span></div></div></div></div><!--astro:end--></astro-island></header> <nav class="sidebar astro-vrdttmbt" aria-label="メイン"> <starlight-menu-button class="astro-jif73yzw"> <button aria-expanded="false" aria-label="メニュー" aria-controls="starlight__sidebar" class="sl-flex md:sl-hidden astro-jif73yzw"> <svg aria-hidden="true" class="astro-jif73yzw astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M3 8h18a1 1 0 1 0 0-2H3a1 1 0 0 0 0 2Zm18 8H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Zm0-5H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Z"/></svg>  </button> </starlight-menu-button>    <div id="starlight__sidebar" class="sidebar-pane astro-vrdttmbt"> <div class="sidebar-content sl-flex astro-vrdttmbt"> <astro-island uid="ZrPtPz" component-url="/entry.Bn7KS65N.mjs" component-export="default" renderer-url="/entry.CWY0IrnN.mjs" props="{&quot;sponsors&quot;:[1,[[0,{&quot;title&quot;:[0,&quot;FlowLong&quot;],&quot;subtitle&quot;:[0,&quot;飞龙工作流引擎&quot;],&quot;description&quot;:[0,&quot;为中国特色审批流打造的国产JSON流程引擎&quot;],&quot;logo&quot;:[0,&quot;/images/sponsors/flowlong.png&quot;],&quot;link&quot;:[0,&quot;https://aizuda.com/?from=mp&quot;]}],[0,{&quot;title&quot;:[0,&quot;Mall4J&quot;],&quot;subtitle&quot;:[0,&quot;Java 开源商城系统&quot;],&quot;description&quot;:[0,&quot;专业高效商城系统，百万开发者的选择&quot;],&quot;logo&quot;:[0,&quot;/images/sponsors/mall4j.png&quot;],&quot;link&quot;:[0,&quot;https://www.mall4j.com?from=mp&quot;]}],[0,{&quot;title&quot;:[0,&quot;CRMEB&quot;],&quot;subtitle&quot;:[0,&quot;Java 营销电商系统&quot;],&quot;description&quot;:[0,&quot;赋能开发者，让商城开发事半功倍&quot;],&quot;logo&quot;:[0,&quot;/images/sponsors/crmeb.webp&quot;],&quot;link&quot;:[0,&quot;https://github.crmeb.net/u/MyBatis-Plus&quot;]}]]]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;SponsorBanner&quot;,&quot;value&quot;:true}" await-children=""><div class="not-content max-w-full w-full text-sm leading-6"> <div class="button-container svelte-58of28"><button class="toggle-button svelte-58of28">展</button></div> </div><!--astro:end--></astro-island> <ul class="top-level astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/ja/introduce" class="large astro-3ii7xxms"> <span class="astro-3ii7xxms">イントロダクション</span>  </a> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <div class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">ここから始める</span>  </div> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/ja/getting-started/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">クイックスタート</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/ja/getting-started/install/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">インストール</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/ja/getting-started/config/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">設定</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/ja/getting-started/test/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">ユニットテスト</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/ja/getting-started/product/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">オープンソース🎁グッズ</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <div class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">ガイドライン</span>  </div> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/ja/guides/new-code-generator/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">コードジェネレータ</span>  <span class="sl-badge default astro-vohx2lp7">New</span>   </a> </li><li class="astro-3ii7xxms"> <a href="/ja/guides/code-generator/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">コードジェネレーター</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/ja/guides/data-interface/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">永続化レイヤーインターフェース</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/ja/guides/wrapper/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">条件構築ツール</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/ja/guides/stream-query/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">ストリーミングクエリ</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/ja/guides/batch-operation/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">バッチ操作</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/ja/guides/auto-convert-enum/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">列挙型の自動マッピング</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/ja/guides/auto-fill-field/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">自動フィールド埋め込み</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/ja/guides/auto-ddl/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">DDL自動メンテナンス</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/ja/guides/key-generator/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">主キー生成戦略</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/ja/guides/id-generator/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">カスタムIDジェネレータ</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/ja/guides/logic-delete/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">論理削除サポート</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/ja/guides/dynamic-datasource/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">マルチデータソースサポート</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/ja/guides/p6spy/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">SQL分析と出力</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/ja/guides/security/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">データセキュリティ保護</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/ja/guides/sql-injector/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">SQLインジェクター</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/ja/guides/type-handler/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">フィールド型ハンドラ</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/ja/guides/advanced-features/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">高度な機能</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/ja/guides/mybatis-x/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Mybatis X プラグイン</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <div class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">プラグイン</span>  </div> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/ja/plugins/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">プラグイン本体</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/ja/plugins/pagination/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">ページネーションプラグイン</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/ja/plugins/optimistic-locker/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">楽観的ロックプラグイン</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/ja/plugins/tenant/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">マルチテナントプラグイン</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/ja/plugins/data-permission/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">データ権限プラグイン</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/ja/plugins/dynamic-table-name/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">動的テーブル名プラグイン</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/ja/plugins/data-change-recorder/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">データ変更記録プラグイン</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/ja/plugins/illegal-sql-intercept/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">不正SQLインターセプタープラグイン</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/ja/plugins/block-attack/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">全テーブル更新・削除防止プラグイン</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <div class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">リファレンス</span>  </div> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/ja/reference/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">導入方法</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/ja/reference/annotation/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">アノテーション設定</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/ja/reference/new-code-generator-configuration/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">コードジェネレーターの設定</span>  <span class="sl-badge default astro-vohx2lp7">New</span>   </a> </li><li class="astro-3ii7xxms"> <a href="/ja/reference/code-generator-configuration/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">コードジェネレーターの設定</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/ja/reference/about-cve/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">セキュリティ脆弱性の予防</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/ja/reference/question/" aria-current="page" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">よくあるご質問</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <div class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">リソース</span>  </div> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/ja/resources/eco-system/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">オープンソースエコシステム</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/ja/resources/enterprise-eco-system/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">エンタープライズ向けエコシステム</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/ja/resources/support/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">サポートとスポンサー</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/ja/resources/changlog/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">更新履歴</span>  </a> </li> </ul>  </details> </li> </ul>  <div class="md:sl-hidden"> <div class="mobile-preferences sl-flex astro-wu23bvmt"> <div class="sl-flex social-icons astro-wu23bvmt"> <a href="https://github.com/baomidou/mybatis-plus" rel="me" class="sl-flex astro-wy4te6ga"><span class="sr-only astro-wy4te6ga">GitHub</span><svg aria-hidden="true" class="astro-wy4te6ga astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg> </a> </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-4yphtoen"> <span class="sr-only astro-4yphtoen">テーマの選択</span> <svg aria-hidden="true" class="icon label-icon astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg>  <select value="auto" class="astro-4yphtoen"> <option value="dark" class="astro-4yphtoen">ダーク</option><option value="light" class="astro-4yphtoen">ライト</option><option value="auto" selected class="astro-4yphtoen">自動</option> </select> <svg aria-hidden="true" class="icon caret astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script>  <starlight-lang-select><label style="--sl-select-width: 7em" class="astro-4yphtoen"> <span class="sr-only astro-4yphtoen">言語の選択</span> <svg aria-hidden="true" class="icon label-icon astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path fill-rule="evenodd" d="M8.516 3a.94.94 0 0 0-.941.94v1.15H2.94a.94.94 0 1 0 0 1.882h7.362a7.422 7.422 0 0 1-1.787 3.958 7.42 7.42 0 0 1-1.422-2.425.94.94 0 1 0-1.774.627 9.303 9.303 0 0 0 1.785 3.043 7.422 7.422 0 0 1-4.164 1.278.94.94 0 1 0 0 1.881 9.303 9.303 0 0 0 5.575-1.855 9.303 9.303 0 0 0 4.11 1.74l-.763 1.525a.968.968 0 0 0-.016.034l-1.385 2.77a.94.94 0 1 0 1.683.841l1.133-2.267h5.806l1.134 2.267a.94.94 0 0 0 1.683-.841l-1.385-2.769a.95.95 0 0 0-.018-.036l-3.476-6.951a.94.94 0 0 0-1.682 0l-1.82 3.639a7.423 7.423 0 0 1-3.593-1.256 9.303 9.303 0 0 0 2.27-5.203h1.894a.94.94 0 0 0 0-1.881H9.456V3.94A.94.94 0 0 0 8.516 3Zm6.426 11.794a1.068 1.068 0 0 1-.02.039l-.703 1.407h3.924l-1.962-3.924-1.24 2.478Z" clip-rule="evenodd"/></svg>  <select value="/ja/reference/question/" class="astro-4yphtoen"> <option value="/reference/question/" class="astro-4yphtoen">简体中文</option><option value="/en/reference/question/" class="astro-4yphtoen">English</option><option value="/ja/reference/question/" selected class="astro-4yphtoen">日本語</option> </select> <svg aria-hidden="true" class="icon caret astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </label> </starlight-lang-select> </div>  </div> </div> </div> </nav> <div class="main-frame astro-vrdttmbt">  <div class="lg:sl-flex astro-67yu43on"> <aside class="right-sidebar-container astro-67yu43on"> <div class="right-sidebar astro-67yu43on"> <div class="toc astro-rl4sue7z"> <div class="lg:sl-hidden astro-pb3aqygn"><mobile-starlight-toc data-min-h="2" data-max-h="3" class="astro-doynk5tl"><nav aria-labelledby="starlight__on-this-page--mobile" class="astro-doynk5tl"><details id="starlight__mobile-toc" class="astro-doynk5tl"><summary id="starlight__on-this-page--mobile" class="sl-flex astro-doynk5tl"><div class="toggle sl-flex astro-doynk5tl">目次<svg aria-hidden="true" class="caret astro-doynk5tl astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </div><span class="display-current astro-doynk5tl"></span></summary><div class="dropdown astro-doynk5tl"><ul class="isMobile astro-g2bywc46" style="--depth: 0;"> <li class="astro-g2bywc46" style="--depth: 0;"> <a href="#_top" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">概要</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#非テーブルカラムの除外方法" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">非テーブルカラムの除外方法</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#エンティティの親クラス属性を除外する方法" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">エンティティの親クラス属性を除外する方法</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#invalid-bound-statement-not-found-例外が発生する" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Invalid bound statement (not found) 例外が発生する</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#カスタム-sql-が実行できない" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">カスタム SQL が実行できない</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#起動時例外のトラブルシューティング" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">起動時例外のトラブルシューティング</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#long-型主キーの自動入力が有効にならない問題について" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Long 型主キーの自動入力が有効にならない問題について</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#生成される主キーが長すぎることによる-js-の精度損失" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">生成される主キーが長すぎることによる JS の精度損失</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#挿入または更新するフィールドに空文字列または-null-がある場合" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">挿入または更新するフィールドに空文字列または null がある場合</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#フィールドタイプが-bittinyint1-の場合の-boolean-型へのマッピング" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">フィールドタイプが bit、tinyint(1) の場合の boolean 型へのマッピング</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#2-つの-limit-文が出現する" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">2 つの limit 文が出現する</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#insert-后如何返回主鍵" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">insert 后如何返回主鍵</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#mp-で特定のフィールドのみを検索する方法" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">MP で特定のフィールドのみを検索する方法</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#mapper-層のセカンドレベルキャッシュ問題" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Mapper 層のセカンドレベルキャッシュ問題</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#mapper-層のセカンダリキャッシュ更新問題" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Mapper 層のセカンダリキャッシュ更新問題</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#cause-orgapacheibatistypetypeexceptionerror-setting-null-for-parameter-1-with-jdbctype-other" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Cause: org.apache.ibatis.type.TypeException:Error setting null for parameter #1 with JdbcType OTHER</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#page-オブジェクトをカスタム-sql-でパラメータとして渡せない問題" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Page オブジェクトをカスタム SQL でパラメータとして渡せない問題</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#map-下划线自動キャメルケース変換の使用方法" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Map 下划线自動キャメルケース変換の使用方法</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#wrapper-での-limit-を使用した-sql-制限方法" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Wrapper での limit を使用した SQL 制限方法</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#汎用的なバッチ挿入操作を-service-層で処理する理由" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">汎用的なバッチ挿入操作を Service 層で処理する理由</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#3xバージョンにおけるデータベースキーワードの処理方法" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">3.xバージョンにおけるデータベースキーワードの処理方法</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#mybatisplusexception-プロパティ名-xxx-に対応するデータベース列名が見つかりません" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">MybatisPlusException: プロパティ名 “xxx” に対応するデータベース列名が見つかりません！</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#カラム-create_time-を結果セットから取得しようとした際のエラー原因-javasqlsqlfeaturenotsupportedexception" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">カラム “create_time” を結果セットから取得しようとした際のエラー。原因: java.sql.SQLFeatureNotSupportedException</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#mybatis-plus-を-311-以降にアップグレード後新しい日付型がマッピングできないエラー" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">MyBatis Plus を 3.1.1 以降にアップグレード後、新しい日付型がマッピングできないエラー</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#mybatis-plusconfigurationincomplete-result-maps0assistantconfigurationmapped-statements0parameter-mapparameter-mappings0-配下のプロパティを-orgapacheibatismappingparametermapping-にバインドできませんでした" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">“mybatis-plus.configuration.incomplete-result-maps[0].assistant.configuration.mapped-statements[0].parameter-map.parameter-mappings[0]” 配下のプロパティを org.apache.ibatis.mapping.ParameterMapping にバインドできませんでした</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#分離パッケージデプロイ時の-classnotfoundexception" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">分離パッケージデプロイ時の ClassNotFoundException</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#mybatis-内部ログ記録の有効化" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">MyBatis 内部ログ記録の有効化</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#update-時にフィールドをインクリメントする方法" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">update 時にフィールドをインクリメントする方法</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#データベースキーワードのグローバル処理方法" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">データベースキーワードのグローバル処理方法</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#xml-でデータベースの種類に基づいて異なる-sql-フラグメントを選択する方法" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">XML でデータベースの種類に基づいて異なる SQL フラグメントを選択する方法</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#mybatis-plus-が複合主キーをサポートせず一意な-id-を強制する理由について" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">MyBatis Plus が複合主キーをサポートせず、一意な ID を強制する理由について</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#プロジェクト起動速度の低下" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">プロジェクト起動速度の低下</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#357-バージョンにおける-dbsavebatch-の戻り値が常に-false-になる問題" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">3.5.7+ バージョンにおける Db.saveBatch の戻り値が常に false になる問題</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#pageまたはlistが返す結果セットがnullまたは一部のnull要素を含む場合" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">PageまたはListが返す結果セットがnull、または一部のnull要素を含む場合</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#戻り値が-map-または-listmap-の場合null-値に対応する-key-が-map-に追加されない" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">戻り値が Map または List&lt;Map&gt; の場合、null 値に対応する key が Map に追加されない</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#basemapperメソッドの書き換え方法" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">BaseMapperメソッドの書き換え方法</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#kotlinでインターフェースのdefaultメソッドを呼び出すと-invalid-bound-statement-not-found-が発生する" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Kotlinでインターフェースのdefaultメソッドを呼び出すと Invalid bound statement (not found) が発生する</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#encountered-unexpected-token-nnn-或-could-not-set-parameters-for-mapping" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Encountered unexpected token: “\n\n\n” 或 Could not set parameters for mapping</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#コードジェネレータで-xxxrepository-を生成するための設定方法" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">コードジェネレータで XXXRepository を生成するための設定方法</span> </a>  </li> </ul> </div></details></nav></mobile-starlight-toc></div><div class="right-sidebar-panel sl-hidden lg:sl-block astro-pb3aqygn"><div class="sl-container astro-pb3aqygn"><starlight-toc data-min-h="2" data-max-h="3"><nav aria-labelledby="starlight__on-this-page"><h2 id="starlight__on-this-page">目次</h2><ul class="astro-g2bywc46" style="--depth: 0;"> <li class="astro-g2bywc46" style="--depth: 0;"> <a href="#_top" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">概要</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#非テーブルカラムの除外方法" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">非テーブルカラムの除外方法</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#エンティティの親クラス属性を除外する方法" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">エンティティの親クラス属性を除外する方法</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#invalid-bound-statement-not-found-例外が発生する" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Invalid bound statement (not found) 例外が発生する</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#カスタム-sql-が実行できない" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">カスタム SQL が実行できない</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#起動時例外のトラブルシューティング" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">起動時例外のトラブルシューティング</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#long-型主キーの自動入力が有効にならない問題について" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Long 型主キーの自動入力が有効にならない問題について</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#生成される主キーが長すぎることによる-js-の精度損失" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">生成される主キーが長すぎることによる JS の精度損失</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#挿入または更新するフィールドに空文字列または-null-がある場合" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">挿入または更新するフィールドに空文字列または null がある場合</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#フィールドタイプが-bittinyint1-の場合の-boolean-型へのマッピング" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">フィールドタイプが bit、tinyint(1) の場合の boolean 型へのマッピング</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#2-つの-limit-文が出現する" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">2 つの limit 文が出現する</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#insert-后如何返回主鍵" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">insert 后如何返回主鍵</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#mp-で特定のフィールドのみを検索する方法" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">MP で特定のフィールドのみを検索する方法</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#mapper-層のセカンドレベルキャッシュ問題" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Mapper 層のセカンドレベルキャッシュ問題</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#mapper-層のセカンダリキャッシュ更新問題" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Mapper 層のセカンダリキャッシュ更新問題</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#cause-orgapacheibatistypetypeexceptionerror-setting-null-for-parameter-1-with-jdbctype-other" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Cause: org.apache.ibatis.type.TypeException:Error setting null for parameter #1 with JdbcType OTHER</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#page-オブジェクトをカスタム-sql-でパラメータとして渡せない問題" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Page オブジェクトをカスタム SQL でパラメータとして渡せない問題</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#map-下划线自動キャメルケース変換の使用方法" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Map 下划线自動キャメルケース変換の使用方法</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#wrapper-での-limit-を使用した-sql-制限方法" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Wrapper での limit を使用した SQL 制限方法</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#汎用的なバッチ挿入操作を-service-層で処理する理由" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">汎用的なバッチ挿入操作を Service 層で処理する理由</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#3xバージョンにおけるデータベースキーワードの処理方法" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">3.xバージョンにおけるデータベースキーワードの処理方法</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#mybatisplusexception-プロパティ名-xxx-に対応するデータベース列名が見つかりません" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">MybatisPlusException: プロパティ名 “xxx” に対応するデータベース列名が見つかりません！</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#カラム-create_time-を結果セットから取得しようとした際のエラー原因-javasqlsqlfeaturenotsupportedexception" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">カラム “create_time” を結果セットから取得しようとした際のエラー。原因: java.sql.SQLFeatureNotSupportedException</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#mybatis-plus-を-311-以降にアップグレード後新しい日付型がマッピングできないエラー" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">MyBatis Plus を 3.1.1 以降にアップグレード後、新しい日付型がマッピングできないエラー</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#mybatis-plusconfigurationincomplete-result-maps0assistantconfigurationmapped-statements0parameter-mapparameter-mappings0-配下のプロパティを-orgapacheibatismappingparametermapping-にバインドできませんでした" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">“mybatis-plus.configuration.incomplete-result-maps[0].assistant.configuration.mapped-statements[0].parameter-map.parameter-mappings[0]” 配下のプロパティを org.apache.ibatis.mapping.ParameterMapping にバインドできませんでした</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#分離パッケージデプロイ時の-classnotfoundexception" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">分離パッケージデプロイ時の ClassNotFoundException</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#mybatis-内部ログ記録の有効化" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">MyBatis 内部ログ記録の有効化</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#update-時にフィールドをインクリメントする方法" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">update 時にフィールドをインクリメントする方法</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#データベースキーワードのグローバル処理方法" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">データベースキーワードのグローバル処理方法</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#xml-でデータベースの種類に基づいて異なる-sql-フラグメントを選択する方法" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">XML でデータベースの種類に基づいて異なる SQL フラグメントを選択する方法</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#mybatis-plus-が複合主キーをサポートせず一意な-id-を強制する理由について" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">MyBatis Plus が複合主キーをサポートせず、一意な ID を強制する理由について</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#プロジェクト起動速度の低下" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">プロジェクト起動速度の低下</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#357-バージョンにおける-dbsavebatch-の戻り値が常に-false-になる問題" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">3.5.7+ バージョンにおける Db.saveBatch の戻り値が常に false になる問題</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#pageまたはlistが返す結果セットがnullまたは一部のnull要素を含む場合" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">PageまたはListが返す結果セットがnull、または一部のnull要素を含む場合</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#戻り値が-map-または-listmap-の場合null-値に対応する-key-が-map-に追加されない" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">戻り値が Map または List&lt;Map&gt; の場合、null 値に対応する key が Map に追加されない</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#basemapperメソッドの書き換え方法" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">BaseMapperメソッドの書き換え方法</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#kotlinでインターフェースのdefaultメソッドを呼び出すと-invalid-bound-statement-not-found-が発生する" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Kotlinでインターフェースのdefaultメソッドを呼び出すと Invalid bound statement (not found) が発生する</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#encountered-unexpected-token-nnn-或-could-not-set-parameters-for-mapping" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Encountered unexpected token: “\n\n\n” 或 Could not set parameters for mapping</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#コードジェネレータで-xxxrepository-を生成するための設定方法" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">コードジェネレータで XXXRepository を生成するための設定方法</span> </a>  </li> </ul> </nav></starlight-toc></div></div> </div> <div class="ad astro-rl4sue7z"> <div class="flex xl:flex-col not-content astro-cbctq2s2"> <!-- WWAD 广告 --> <div class="w-full xl:flex-1 astro-cbctq2s2"> <div class="w-full p-4 text-sm leading-6 astro-cbctq2s2"> <div class="wwads-cn wwads-horizontal xl:wwads-vertical max-w-full xl:max-w-[12rem] astro-cbctq2s2" data-id="135" style="min-height: 0; margin-top: 0; border-width: 1px; border-radius: 0.5rem"></div> </div> </div> <!-- Google Adsense 竖向广告 --> <div class="xl:block hidden google-ads-sidebar astro-cbctq2s2"> <div class="google-ads-container astro-cbctq2s2"> <ins class="adsbygoogle google-ads astro-cbctq2s2" style="display:inline-block;width:100%;height:300px" data-ad-client="ca-pub-4147143076931995" data-ad-slot="1866407052"></ins> <script>
             (adsbygoogle = window.adsbygoogle || []).push({});
        </script> </div> </div> </div>  </div> <script lang="js">
  document.addEventListener("DOMContentLoaded", function () {
    const toc = document.querySelector(".toc");
    const ad = document.querySelector(".ad");

    function adjustLayout() {
      const windowHeight = window.innerHeight;
      const adHeight = ad.offsetHeight;

      toc.style.maxHeight = `${windowHeight - adHeight - 64}px`;
      if (toc.offsetHeight + adHeight > windowHeight) {
        ad.classList.add("fixed-ad");
      } else {
        ad.classList.remove("fixed-ad");
      }
    }

    let adHeight = ad.offsetHeight;
    let heightCheckInterval;
    function startHeightCheck() {
      clearInterval(heightCheckInterval);
      heightCheckInterval = setInterval(() => {
        const newAdHeight = ad.offsetHeight;
        if (newAdHeight !== adHeight) {
          adHeight = newAdHeight;
        } else {
          clearInterval(heightCheckInterval);
          adjustLayout();
        }
      }, 100); // 每100毫秒检查一次高度
    }

    // 监测内容变化时重新布局（包括 Google Adsense 加载）
    const observer = new MutationObserver(startHeightCheck);
    observer.observe(ad, { childList: true, subtree: true });
    
    // 等待 Google Adsense 加载完成后重新计算布局
    if (window.adsbygoogle) {
      const checkAdsLoaded = setInterval(() => {
        const googleAds = document.querySelector('.google-ads');
        if (googleAds && googleAds.offsetHeight > 0) {
          clearInterval(checkAdsLoaded);
          setTimeout(adjustLayout, 500); // 延迟一点确保完全加载
        }
      }, 200);
    }
    
    // 检测窗口变化时重新布局
    window.addEventListener("resize", adjustLayout);
    adjustLayout();
  });
</script>  </div> </aside> <div class="main-pane astro-67yu43on">  <main data-pagefind-body lang="ja" dir="ltr" class="astro-bguv2lll">    <div class="content-panel astro-7nkwcw3z"> <div class="sl-container astro-7nkwcw3z"> <h1 id="_top" class="astro-j6tvhyss">よくあるご質問</h1>  </div> </div>  <div class="content-panel astro-7nkwcw3z"> <div class="sl-container astro-7nkwcw3z"> <div class="sl-markdown-content"> <p>本文書は、MyBatis-Plus の使用中に発生する様々なよくある問題をまとめたものです。MyBatis-Plus の使用中に問題が発生した場合は、まずこの文書をご確認ください。</p>
<h2 id="非テーブルカラムの除外方法">非テーブルカラムの除外方法</h2>
<p>以下の3つの方法からいずれか1つを選択してください：</p>
<ul>
<li>
<p><code dir="auto">transient</code> 修飾子を使用する</p>
<div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.d6kn2.css"/><script type="module" src="/_astro/ec.dy9ns.js"></script><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">private</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">transient</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">String</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">noColumn</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="private transient String noColumn;"><div></div></button></div></figure></div>
</li>
<li>
<p><code dir="auto">static</code> 修飾子を使用する</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">private</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">static</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">String</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">noColumn</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="private static String noColumn;"><div></div></button></div></figure></div>
</li>
<li>
<p><code dir="auto">TableField</code> アノテーションを使用する</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">@</span><span style="--0:#C792EA;--1:#8D46B4">TableField</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#82AAFF;--1:#3C63B3">exist</span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#82AAFF;--1:#3C63B3">false</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">private</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">String</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">noColumn</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="@TableField(exist=false)private String noColumn;"><div></div></button></div></figure></div>
</li>
</ul>
<h2 id="エンティティの親クラス属性を除外する方法">エンティティの親クラス属性を除外する方法</h2>
<p>除外したい親クラスの属性に <code dir="auto">transient</code> 修飾子を使用します</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#616671">/**</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#809191;--1:#616671"> </span></span><span style="--0:#809191;--1:#616671">* 親クラスの createTime フィールドのマッピングを無視</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#809191;--1:#616671"> </span></span><span style="--0:#809191;--1:#616671">*/</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">private</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">transient</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">String</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">createTime</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="/** * 親クラスの createTime フィールドのマッピングを無視 */private transient String createTime;"><div></div></button></div></figure></div>
<h2 id="invalid-bound-statement-not-found-例外が発生する"><code dir="auto">Invalid bound statement (not found)</code> 例外が発生する</h2>
<p>この例外は通常、設定が正しくないか、Mapperが適切にスキャンされていないことが原因で発生します。解決策は以下の通りです：</p>
<ul>
<li>
<p>jarパッケージの競合がないか確認してください。</p>
</li>
<li>
<p>Mapper.javaのスキャンパスを確認してください：</p>
<ul>
<li>
<p>方法1：<code dir="auto">Configuration</code>クラスに注釈<code dir="auto">@MapperScan</code>を使用する</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">@</span><span style="--0:#C792EA;--1:#8D46B4">Configuration</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">@</span><span style="--0:#C792EA;--1:#8D46B4">MapperScan</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#ECC48D;--1:#9B504E">com.yourpackage.*.mapper</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">public</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">class</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#FFCB8B;--1:#111111">YourConfigClass</span><span style="--0:#D6DEEB;--1:#403F53">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">...</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="@Configuration@MapperScan(&#34;com.yourpackage.*.mapper&#34;)public class YourConfigClass{  ...}"><div></div></button></div></figure></div>
</li>
<li>
<p>方法2：<code dir="auto">Configuration</code>クラスで<code dir="auto">MapperScannerConfigurer</code>を設定する（<a href="https://gitee.com/baomidou/mybatisplus-spring-boot/blob/config%E6%96%B9%E5%BC%8F/src/main/java/com/baomidou/springboot/config/MybatisPlusConfig.java">サンプルを確認</a>）</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">@</span><span style="--0:#C792EA;--1:#8D46B4">Bean</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">public</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">MapperScannerConfigurer</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">mapperScannerConfigurer</span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8D46B4">MapperScannerConfigurer</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">scannerConfigurer</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">new</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">MapperScannerConfigurer</span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#809191;--1:#5E6578">// 環境変数からmapperのパスを取得できます。これにより、mapperのスキャンは設定ファイルで設定可能になります</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C5E478;--1:#3C63B3">scannerConfigurer</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">setBasePackage</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#ECC48D;--1:#9B504E">com.yourpackage.*.mapper</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8D46B4">return</span><span style="--0:#D6DEEB;--1:#403F53"> scannerConfigurer;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="@Beanpublic MapperScannerConfigurer mapperScannerConfigurer(){    MapperScannerConfigurer scannerConfigurer = new MapperScannerConfigurer();    // 環境変数からmapperのパスを取得できます。これにより、mapperのスキャンは設定ファイルで設定可能になります    scannerConfigurer.setBasePackage(&#34;com.yourpackage.*.mapper&#34;);    return scannerConfigurer;}"><div></div></button></div></figure></div>
</li>
</ul>
</li>
<li>
<p>主キーが指定されているか確認してください。指定されていない場合、<code dir="auto">selectById</code>関連のID操作ができなくなります。注釈<code dir="auto">@TableId</code>を使用してテーブルID主キーを注釈してください。もちろん、<code dir="auto">@TableId</code>注釈は省略可能ですが、主キーはid（大文字小文字を区別しない）という名前にする必要があります。</p>
</li>
<li>
<p>ネイティブのSqlSessionFactoryを使用せず、MybatisSqlSessionFactoryを使用してください。</p>
</li>
<li>
<p>SqlInjectorをカスタマイズしたかどうか、<code dir="auto">getMethodList()</code>メソッドをオーバーライドしたかどうか確認してください。このメソッドで必要なメソッドが注入されているかどうか確認してください（DefaultSqlInjectorを参考にしてください）。</p>
</li>
<li>
<p>IDEAのデフォルトのビルド手順により、mapperファイルが対応するresourcesフォルダに正常にコンパイルされない場合があります。ビルド後、関連するリソースフォルダに対応するXMLファイルがあるか確認してください。ない場合は、IDEAのビルド設定を調整してください。MavenまたはGradleのビルドに調整することを推奨します。</p>
</li>
</ul>
<h2 id="カスタム-sql-が実行できない">カスタム SQL が実行できない</h2>
<p>問題説明: XML 内でカスタム SQL を定義しているにもかかわらず、呼び出せない状況を指します。この機能は <code dir="auto">MyBatis</code> と同様に、XML スキャンパスの設定が必要です:</p>
<ul>
<li>Spring MVC 設定（<a href="https://gitee.com/baomidou/mybatisplus-spring-mvc/blob/dev/src/main/resources/spring/spring-mybatis.xml">mybatisplus-spring-mvc</a> を参照）</li>
</ul>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">bean</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">id</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#ECC48D;--1:#9B504E">sqlSessionFactory</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#7FDBCA;--1:#8D46B4"> </span><span style="--0:#C5E478;--1:#3C63B3">class</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#ECC48D;--1:#9B504E">com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#7FDBCA;--1:#8D46B4">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">property</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">name</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#ECC48D;--1:#9B504E">dataSource</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#7FDBCA;--1:#8D46B4"> </span><span style="--0:#C5E478;--1:#3C63B3">ref</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#ECC48D;--1:#9B504E">dataSource</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#7FDBCA;--1:#8D46B4"> /&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">property</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">name</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#ECC48D;--1:#9B504E">typeAliasesPackage</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#7FDBCA;--1:#8D46B4"> </span><span style="--0:#C5E478;--1:#3C63B3">value</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#ECC48D;--1:#9B504E">xxx.entity</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#7FDBCA;--1:#8D46B4"> /&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">property</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">name</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#ECC48D;--1:#9B504E">mapperLocations</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#7FDBCA;--1:#8D46B4"> </span><span style="--0:#C5E478;--1:#3C63B3">value</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#ECC48D;--1:#9B504E">classpath*:/mybatis/*/*.xml</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#7FDBCA;--1:#8D46B4">/&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">...</span></div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">bean</span><span style="--0:#7FDBCA">&gt;</span></span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="<bean id=&#34;sqlSessionFactory&#34; class=&#34;com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean&#34;>    <property name=&#34;dataSource&#34; ref=&#34;dataSource&#34; />    <property name=&#34;typeAliasesPackage&#34; value=&#34;xxx.entity&#34; />    <property name=&#34;mapperLocations&#34; value=&#34;classpath*:/mybatis/*/*.xml&#34;/>    ...</bean>"><div></div></button></div></figure></div>
<ul>
<li>Spring Boot 設定（<a href="https://gitee.com/baomidou/mybatisplus-spring-boot/blob/2.x/src/main/resources/application.yml">mybatisplus-spring-boot</a> を参照）</li>
</ul>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">mybatis-plus</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#111111">mapper-locations</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">classpath*:/mapper/**/*.xml</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="mybatis-plus:  mapper-locations: classpath*:/mapper/**/*.xml"><div></div></button></div></figure></div>
<ul>
<li>
<p><code dir="auto">IDEA</code> シリーズのエディターでは、XML ファイルを java フォルダー内に配置することはできません。IDEA はデフォルトでソースフォルダー内の XML ファイルをコンパイルしません。以下の方法で解決できます:</p>
<ul>
<li>設定ファイルを resource フォルダーに配置する</li>
<li>Maven プロジェクトの場合、POM ファイルで resource を指定する</li>
</ul>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">build</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">resources</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">resource</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#809191;--1:#616671">&lt;!-- xmlをjavaディレクトリに配置する場合--&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">directory</span><span style="--0:#7FDBCA">&gt;</span></span><span style="--0:#D6DEEB;--1:#403F53">src/main/java</span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">directory</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">includes</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">include</span><span style="--0:#7FDBCA">&gt;</span></span><span style="--0:#D6DEEB;--1:#403F53">**/*.xml</span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">include</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">includes</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">resource</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#809191;--1:#616671">&lt;!-- リソースの位置を指定（xmlをresourcesに配置する場合は、指定不要）--&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">resource</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">directory</span><span style="--0:#7FDBCA">&gt;</span></span><span style="--0:#D6DEEB;--1:#403F53">src/main/resources</span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">directory</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">resource</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">resources</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">build</span><span style="--0:#7FDBCA">&gt;</span></span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="<build>  <resources>      <resource>          <!-- xmlをjavaディレクトリに配置する場合-->          <directory>src/main/java</directory>          <includes>              <include>**/*.xml</include>          </includes>      </resource>      <!-- リソースの位置を指定（xmlをresourcesに配置する場合は、指定不要）-->      <resource>          <directory>src/main/resources</directory>      </resource>  </resources></build>"><div></div></button></div></figure></div>
</li>
</ul>
<aside aria-label="ノート" class="starlight-aside starlight-aside--note"><p class="starlight-aside__title" aria-hidden="true"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="starlight-aside__icon"><path d="M12 11C11.7348 11 11.4804 11.1054 11.2929 11.2929C11.1054 11.4804 11 11.7348 11 12V16C11 16.2652 11.1054 16.5196 11.2929 16.7071C11.4804 16.8946 11.7348 17 12 17C12.2652 17 12.5196 16.8946 12.7071 16.7071C12.8946 16.5196 13 16.2652 13 16V12C13 11.7348 12.8946 11.4804 12.7071 11.2929C12.5196 11.1054 12.2652 11 12 11ZM12.38 7.08C12.1365 6.97998 11.8635 6.97998 11.62 7.08C11.4973 7.12759 11.3851 7.19896 11.29 7.29C11.2017 7.3872 11.1306 7.49882 11.08 7.62C11.024 7.73868 10.9966 7.86882 11 8C10.9992 8.13161 11.0245 8.26207 11.0742 8.38391C11.124 8.50574 11.1973 8.61656 11.29 8.71C11.3872 8.79833 11.4988 8.86936 11.62 8.92C11.7715 8.98224 11.936 9.00632 12.099 8.99011C12.2619 8.97391 12.4184 8.91792 12.5547 8.82707C12.691 8.73622 12.8029 8.61328 12.8805 8.46907C12.9582 8.32486 12.9992 8.16378 13 8C12.9963 7.73523 12.8927 7.48163 12.71 7.29C12.6149 7.19896 12.5028 7.12759 12.38 7.08ZM12 2C10.0222 2 8.08879 2.58649 6.4443 3.6853C4.79981 4.78412 3.51809 6.3459 2.76121 8.17317C2.00433 10.0004 1.8063 12.0111 2.19215 13.9509C2.578 15.8907 3.53041 17.6725 4.92894 19.0711C6.32746 20.4696 8.10929 21.422 10.0491 21.8079C11.9889 22.1937 13.9996 21.9957 15.8268 21.2388C17.6541 20.4819 19.2159 19.2002 20.3147 17.5557C21.4135 15.9112 22 13.9778 22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7363 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2ZM12 20C10.4178 20 8.87104 19.5308 7.55544 18.6518C6.23985 17.7727 5.21447 16.5233 4.60897 15.0615C4.00347 13.5997 3.84504 11.9911 4.15372 10.4393C4.4624 8.88743 5.22433 7.46197 6.34315 6.34315C7.46197 5.22433 8.88743 4.4624 10.4393 4.15372C11.9911 3.84504 13.5997 4.00346 15.0615 4.60896C16.5233 5.21447 17.7727 6.23984 18.6518 7.55544C19.5308 8.87103 20 10.4177 20 12C20 14.1217 19.1572 16.1566 17.6569 17.6569C16.1566 19.1571 14.1217 20 12 20Z"></path></svg>ノート</p><section class="starlight-aside__content"><p>注意！ Maven マルチモジュールプロジェクトでは、スキャンパスは <code dir="auto">classpath*:</code> で始める必要があります（つまり、複数の jar パッケージ内の XML ファイルを読み込みます）</p></section></aside>
<h2 id="起動時例外のトラブルシューティング">起動時例外のトラブルシューティング</h2>
<ul>
<li>
<p>例外1：</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">java.lang.ClassCastException: sun.reflect.generics.reflectiveObjects.TypeVariableImpl cannot be cast to java.lang.Class</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="java.lang.ClassCastException: sun.reflect.generics.reflectiveObjects.TypeVariableImpl cannot be cast to java.lang.Class"><div></div></button></div></figure></div>
<p>MapperScan では、com.baomidou.mybatisplus.mapper.BaseMapper クラスおよびそのサブクラス（カスタム共通 Mapper）を除外する必要があります。例：</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">import</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">com.baomidou.mybatisplus.core.mapper.BaseMapper</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">public</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">interface</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#FFCB8B;--1:#111111">SuperMapper</span><span style="--0:#D6DEEB;--1:#403F53">&lt;</span><span style="--0:#C792EA;--1:#8D46B4">T</span><span style="--0:#D6DEEB;--1:#403F53">&gt; </span><span style="--0:#C792EA;--1:#8D46B4">extends</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">BaseMapper</span><span style="--0:#D6DEEB;--1:#403F53">&lt;</span><span style="--0:#C792EA;--1:#8D46B4">T</span><span style="--0:#D6DEEB;--1:#403F53">&gt; {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#809191;--1:#5E6578">// カスタムメソッド</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="import com.baomidou.mybatisplus.core.mapper.BaseMapper;public interface SuperMapper<T> extends BaseMapper<T> {    // カスタムメソッド}"><div></div></button></div></figure></div>
</li>
<li>
<p>例外2：</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Injection of autowired</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="Injection of autowired"><div></div></button></div></figure></div>
<p>原因：低バージョンではジェネリックスの注入をサポートしていません。Spring のバージョンを 4 以上にアップグレードしてください。</p>
</li>
<li>
<p>例外3：</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">java.lang.NoSuchMethodError: org.apache.ibatis.session.Configuration.getDefaultScriptingLanguageInstance() Lorg/apache/ibatis/scripting/LanguageDriver</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="java.lang.NoSuchMethodError: org.apache.ibatis.session.Configuration.getDefaultScriptingLanguageInstance() Lorg/apache/ibatis/scripting/LanguageDriver"><div></div></button></div></figure></div>
<p>バージョン導入の問題：このメソッドは 3.4.1 バージョンには存在せず、3.4.2 バージョンで導入されました！</p>
</li>
</ul>
<h2 id="long-型主キーの自動入力が有効にならない問題について">Long 型主キーの自動入力が有効にならない問題について</h2>
<p><code dir="auto">Long</code>ではなく<code dir="auto">long</code>を使用していないか確認してください！</p>
<aside aria-label="ヒント" class="starlight-aside starlight-aside--tip"><p class="starlight-aside__title" aria-hidden="true"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="starlight-aside__icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.43909 8.85483L1.44039 8.85354L4.96668 5.33815C5.30653 4.99386 5.7685 4.79662 6.2524 4.78972L6.26553 4.78963L12.9014 4.78962L13.8479 3.84308C16.9187 0.772319 20.0546 0.770617 21.4678 0.975145C21.8617 1.02914 22.2271 1.21053 22.5083 1.4917C22.7894 1.77284 22.9708 2.13821 23.0248 2.53199C23.2294 3.94517 23.2278 7.08119 20.1569 10.1521L19.2107 11.0983V17.7338L19.2106 17.7469C19.2037 18.2308 19.0067 18.6933 18.6624 19.0331L15.1456 22.5608C14.9095 22.7966 14.6137 22.964 14.29 23.0449C13.9663 23.1259 13.6267 23.1174 13.3074 23.0204C12.9881 22.9235 12.7011 22.7417 12.4771 22.4944C12.2533 22.2473 12.1006 21.9441 12.0355 21.6171L11.1783 17.3417L6.65869 12.822L4.34847 12.3589L2.38351 11.965C2.05664 11.8998 1.75272 11.747 1.50564 11.5232C1.25835 11.2992 1.07653 11.0122 0.979561 10.6929C0.882595 10.3736 0.874125 10.034 0.955057 9.7103C1.03599 9.38659 1.20328 9.09092 1.43909 8.85483ZM6.8186 10.8724L2.94619 10.096L6.32006 6.73268H10.9583L6.8186 10.8724ZM15.2219 5.21703C17.681 2.75787 20.0783 2.75376 21.1124 2.8876C21.2462 3.92172 21.2421 6.31895 18.783 8.77812L12.0728 15.4883L8.51172 11.9272L15.2219 5.21703ZM13.9042 21.0538L13.1279 17.1811L17.2676 13.0414V17.68L13.9042 21.0538Z"></path><path d="M9.31827 18.3446C9.45046 17.8529 9.17864 17.3369 8.68945 17.1724C8.56178 17.1294 8.43145 17.1145 8.30512 17.1243C8.10513 17.1398 7.91519 17.2172 7.76181 17.3434C7.62613 17.455 7.51905 17.6048 7.45893 17.7835C6.97634 19.2186 5.77062 19.9878 4.52406 20.4029C4.08525 20.549 3.6605 20.644 3.29471 20.7053C3.35607 20.3395 3.45098 19.9148 3.59711 19.476C4.01221 18.2294 4.78141 17.0237 6.21648 16.5411C6.39528 16.481 6.54504 16.3739 6.65665 16.2382C6.85126 16.0016 6.92988 15.678 6.84417 15.3647C6.83922 15.3466 6.83373 15.3286 6.82767 15.3106C6.74106 15.053 6.55701 14.8557 6.33037 14.7459C6.10949 14.6389 5.84816 14.615 5.59715 14.6994C5.47743 14.7397 5.36103 14.7831 5.24786 14.8294C3.22626 15.6569 2.2347 17.4173 1.75357 18.8621C1.49662 19.6337 1.36993 20.3554 1.30679 20.8818C1.27505 21.1464 1.25893 21.3654 1.25072 21.5213C1.24662 21.5993 1.24448 21.6618 1.24337 21.7066L1.243 21.7226L1.24235 21.7605L1.2422 21.7771L1.24217 21.7827L1.24217 21.7856C1.24217 22.3221 1.67703 22.7579 2.2137 22.7579L2.2155 22.7579L2.22337 22.7578L2.23956 22.7577C2.25293 22.7575 2.27096 22.7572 2.29338 22.7567C2.33821 22.7555 2.40073 22.7534 2.47876 22.7493C2.63466 22.7411 2.85361 22.725 3.11822 22.6932C3.64462 22.6301 4.36636 22.5034 5.13797 22.2464C6.58274 21.7653 8.3431 20.7738 9.17063 18.7522C9.21696 18.639 9.26037 18.5226 9.30064 18.4029C9.30716 18.3835 9.31304 18.364 9.31827 18.3446Z"></path></svg>ヒント</p><section class="starlight-aside__content"><p><code dir="auto">long</code>型のデフォルト値は 0 ですが、MyBatis-Plus は <code dir="auto">null</code> かどうかのみを判定します</p></section></aside>
<h2 id="生成される主キーが長すぎることによる-js-の精度損失">生成される主キーが長すぎることによる JS の精度損失</h2>
<p>JavaScript は Java の長整数型 Long を処理できず、精度損失が発生します。具体的な現象として、主キーの最後の2桁が常に 0 になります。解決策：Long を String に変換して返す。</p>
<ul>
<li>
<p>FastJson での処理方法</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">@</span><span style="--0:#C792EA;--1:#8D46B4">Override</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">public</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">void</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">configureMessageConverters</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#C792EA;--1:#8D46B4">List&lt;HttpMessageConverter&lt;?&gt;&gt;</span><span style="--0:#82AAFF;--1:#3C63B3"> converters</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8D46B4">FastJsonHttpMessageConverter</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">fastJsonConverter</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">new</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">FastJsonHttpMessageConverter</span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8D46B4">FastJsonConfig</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">fjc</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">new</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">FastJsonConfig</span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#809191;--1:#5E6578">// シリアライゼーション戦略を設定</span></div></div><div class="ec-line highlight mark"><div class="code"><span class="indent">    </span><span style="--0:#C5E478;--1:#335497">fjc</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#335497">setSerializerFeatures</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#C5E478;--1:#335497">SerializerFeature</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--1:#111111"><span style="--0:#FAF39F">BrowserCompatible</span><span style="--0:#D9F5DD">)</span></span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C5E478;--1:#3C63B3">fastJsonConverter</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">setFastJsonConfig</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D6DEEB;--1:#403F53">fjc</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C5E478;--1:#3C63B3">converters</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">add</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D6DEEB;--1:#403F53">fastJsonConverter</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="@Overridepublic void configureMessageConverters(List<HttpMessageConverter<?>> converters) {    FastJsonHttpMessageConverter fastJsonConverter = new FastJsonHttpMessageConverter();    FastJsonConfig fjc = new FastJsonConfig();    // シリアライゼーション戦略を設定    fjc.setSerializerFeatures(SerializerFeature.BrowserCompatible);    fastJsonConverter.setFastJsonConfig(fjc);    converters.add(fastJsonConverter);}"><div></div></button></div></figure></div>
</li>
<li>
<p>JackJson での処理方法</p>
<ul>
<li>
<p>方法 1</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#5E6578">// アノテーションによる処理、ここでは共通の baseEntity 処理を設定可能</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">@</span><span style="--0:#C792EA;--1:#8D46B4">JsonSerialize</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#82AAFF;--1:#3C63B3">using</span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#C5E478;--1:#3C63B3">ToStringSerializer</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#FAF39F;--1:#111111">class</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">public</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">long</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">getId</span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8D46B4">return</span><span style="--0:#D6DEEB;--1:#403F53"> id;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="// アノテーションによる処理、ここでは共通の baseEntity 処理を設定可能@JsonSerialize(using=ToStringSerializer.class)public long getId() {    return id;}"><div></div></button></div></figure></div>
</li>
<li>
<p>方法 2</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#5E6578">// グローバルなシリアライゼーション設定による JSON 返却処理</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">final</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">ObjectMapper</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">objectMapper</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">new</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">ObjectMapper</span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">SimpleModule</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">simpleModule</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">new</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">SimpleModule</span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3C63B3">simpleModule</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">addSerializer</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#C5E478;--1:#3C63B3">Long</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#FAF39F;--1:#111111">class</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#C5E478;--1:#3C63B3">ToStringSerializer</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--1:#111111"><span style="--0:#FAF39F">instance</span><span style="--0:#D9F5DD">)</span></span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3C63B3">objectMapper</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">registerModule</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D6DEEB;--1:#403F53">simpleModule</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="// グローバルなシリアライゼーション設定による JSON 返却処理final ObjectMapper objectMapper = new ObjectMapper();SimpleModule simpleModule = new SimpleModule();simpleModule.addSerializer(Long.class, ToStringSerializer.instance);objectMapper.registerModule(simpleModule);"><div></div></button></div></figure></div>
</li>
</ul>
</li>
<li>
<p>比較的一般的な処理方法：<code dir="auto">public String getIdStr()</code> メソッドを追加し、フロントエンドで <code dir="auto">idStr</code> を取得する</p>
</li>
</ul>
<h2 id="挿入または更新するフィールドに空文字列または-null-がある場合">挿入または更新するフィールドに空文字列または <code dir="auto">null</code> がある場合</h2>
<p>FieldStrategy には 3 つの戦略があります：</p>
<ul>
<li>IGNORED：無視する</li>
<li>NOT_NULL：NULL でない（デフォルト戦略）</li>
<li>NOT_EMPTY：空でない</li>
</ul>
<p>ユーザーがフィールドを空文字列または <code dir="auto">null</code> に更新する必要がある場合、<code dir="auto">FieldStrategy</code> の戦略を調整する必要があります：</p>
<ul>
<li>
<p>方法 1：グローバルな検証戦略を調整する</p>
<p>GlobalConfiguration 属性 fieldStrategy を注入して設定します</p>
</li>
<li>
<p>方法 2：フィールド検証アノテーションを調整する</p>
<p>具体的な状況に応じて、更新が必要なフィールドで検証アノテーションを調整します。例えば、空でないことを検証する場合：</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">@</span><span style="--0:#C792EA;--1:#8D46B4">TableField</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#82AAFF;--1:#3C63B3">strategy</span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#C5E478;--1:#3C63B3">FieldStrategy</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#FAF39F;--1:#111111">NOT_EMPTY</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="@TableField(strategy=FieldStrategy.NOT_EMPTY)"><div></div></button></div></figure></div>
</li>
<li>
<p>方法 3：<code dir="auto">UpdateWrapper</code> を使用する (3.x)</p>
<p>以下の方法を使用して更新または挿入操作を実行します：</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#5E6578">//updateAllColumnById(entity) // 全フィールド更新: 3.0 で削除されました</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3C63B3">mapper</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">update</span><span style="--0:#D9F5DD;--1:#111111">(</span></div></div><div class="ec-line"><div class="code"><span class="indent">   </span><span style="--0:#C792EA;--1:#8D46B4">new</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">User</span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">setName</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#ECC48D;--1:#9B504E">mp</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">setAge</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#F78C6C;--1:#AA0982">3</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">   </span></span><span style="--0:#D6DEEB;--1:#403F53">Wrappers.</span><span style="--0:#C792EA;--1:#8D46B4">&lt;</span><span style="--0:#D6DEEB;--1:#403F53">User</span><span style="--0:#C792EA;--1:#8D46B4">&gt;</span><span style="--0:#82AAFF;--1:#3C63B3">lambdaUpdate</span><span style="--0:#D9F5DD;--1:#111111">()</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">           </span></span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">set</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D6DEEB;--1:#403F53">User</span><span style="--0:#C792EA;--1:#8D46B4">::</span><span style="--0:#D6DEEB;--1:#403F53">getEmail, </span><span style="--0:#82AAFF;--1:#3C63B3">null</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#809191;--1:#5E6578">//email を null に設定</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">           </span></span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">eq</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D6DEEB;--1:#403F53">User</span><span style="--0:#C792EA;--1:#8D46B4">::</span><span style="--0:#D6DEEB;--1:#403F53">getId, </span><span style="--0:#F78C6C;--1:#AA0982">2</span><span style="--0:#D9F5DD;--1:#111111">)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#5E6578">//以下の書き方も参考にできます</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3C63B3">mapper</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">update</span><span style="--0:#D9F5DD;--1:#111111">(</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#82AAFF;--1:#3C63B3">null</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">Wrappers.</span><span style="--0:#C792EA;--1:#8D46B4">&lt;</span><span style="--0:#D6DEEB;--1:#403F53">User</span><span style="--0:#C792EA;--1:#8D46B4">&gt;</span><span style="--0:#82AAFF;--1:#3C63B3">lambdaUpdate</span><span style="--0:#D9F5DD;--1:#111111">()</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">       </span></span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">set</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D6DEEB;--1:#403F53">User</span><span style="--0:#C792EA;--1:#8D46B4">::</span><span style="--0:#D6DEEB;--1:#403F53">getAge, </span><span style="--0:#F78C6C;--1:#AA0982">3</span><span style="--0:#D9F5DD;--1:#111111">)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">       </span></span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">set</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D6DEEB;--1:#403F53">User</span><span style="--0:#C792EA;--1:#8D46B4">::</span><span style="--0:#D6DEEB;--1:#403F53">getName, </span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#ECC48D;--1:#9B504E">mp</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#D9F5DD;--1:#111111">)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">       </span></span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">set</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D6DEEB;--1:#403F53">User</span><span style="--0:#C792EA;--1:#8D46B4">::</span><span style="--0:#D6DEEB;--1:#403F53">getEmail, </span><span style="--0:#82AAFF;--1:#3C63B3">null</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#809191;--1:#5E6578">//email を null に設定</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">       </span></span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">eq</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D6DEEB;--1:#403F53">User</span><span style="--0:#C792EA;--1:#8D46B4">::</span><span style="--0:#D6DEEB;--1:#403F53">getId, </span><span style="--0:#F78C6C;--1:#AA0982">2</span><span style="--0:#D9F5DD;--1:#111111">)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="//updateAllColumnById(entity) // 全フィールド更新: 3.0 で削除されましたmapper.update(   new User().setName(&#34;mp&#34;).setAge(3),   Wrappers.<User>lambdaUpdate()           .set(User::getEmail, null) //email を null に設定           .eq(User::getId, 2));//以下の書き方も参考にできますmapper.update(    null,    Wrappers.<User>lambdaUpdate()       .set(User::getAge, 3)       .set(User::getName, &#34;mp&#34;)       .set(User::getEmail, null) //email を null に設定       .eq(User::getId, 2));"><div></div></button></div></figure></div>
</li>
</ul>
<h2 id="フィールドタイプが-bittinyint1-の場合の-boolean-型へのマッピング">フィールドタイプが <code dir="auto">bit</code>、<code dir="auto">tinyint(1)</code> の場合の <code dir="auto">boolean</code> 型へのマッピング</h2>
<p>デフォルトでは、MySQL ドライバは <code dir="auto">tinyint(1)</code> フィールドを boolean 型にマッピングします: 0=false, 0以外=true</p>
<p>MyBatis はこのマッピングを自動的に処理しません。<code dir="auto">tinyint(1)</code> を boolean 型にマップしたくない場合は、以下のいずれかの方法を採用してください：</p>
<ul>
<li>タイプを <code dir="auto">tinyint(1)</code> から <code dir="auto">tinyint(2)</code> または <code dir="auto">int</code> に変更する</li>
<li>リクエスト接続文字列にパラメータ <code dir="auto">tinyInt1isBit=false</code> を追加する。例：</li>
</ul>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">jdbc:mysql://127.0.0.1:3306/mp?tinyInt1isBit=false</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="jdbc:mysql://127.0.0.1:3306/mp?tinyInt1isBit=false"><div></div></button></div></figure></div>
<h2 id="2-つの-limit-文が出現する">2 つの <code dir="auto">limit</code> 文が出現する</h2>
<p>原因：2 つのページネーションインターセプターが設定されています！設定ファイルまたはコードを確認し、1 つだけ残してください！</p>
<h2 id="insert-后如何返回主鍵">insert 后如何返回主鍵</h2>
<p>insert 後、主キーは自動的にエンティティの ID フィールドに設定されます。そのため、<code dir="auto">getId()</code> を呼び出すだけで取得できます。</p>
<h2 id="mp-で特定のフィールドのみを検索する方法">MP で特定のフィールドのみを検索する方法</h2>
<p>EntityWrapper.sqlSelect で検索したいフィールドを設定します</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">2.x</span></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">EntityWrapper</span><span style="--0:#D6DEEB;--1:#403F53">&lt;</span><span style="--0:#C792EA;--1:#8D46B4">H2User</span><span style="--0:#D6DEEB;--1:#403F53">&gt; </span><span style="--0:#C5E478;--1:#3C63B3">ew</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">new</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">EntityWrapper</span><span style="--0:#D6DEEB;--1:#403F53">&lt;&gt;();</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3C63B3">ew</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">setSqlSelect</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#ECC48D;--1:#9B504E">test_id as id, name, age</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53">;</span><span style="--0:#809191;--1:#5E6578">//3つのフィールドのみを検索</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">List</span><span style="--0:#D6DEEB;--1:#403F53">&lt;</span><span style="--0:#C792EA;--1:#8D46B4">H2User</span><span style="--0:#D6DEEB;--1:#403F53">&gt; </span><span style="--0:#C5E478;--1:#3C63B3">list</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">userService</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">selectList</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D6DEEB;--1:#403F53">ew</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">for</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C792EA;--1:#8D46B4">H2User</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">u</span><span style="--0:#C792EA;--1:#8D46B4">:</span><span style="--0:#D6DEEB;--1:#403F53">list){</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C5E478;--1:#3C63B3">Assert</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">assertNotNull</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#C5E478;--1:#3C63B3">u</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">getId</span><span style="--0:#D9F5DD;--1:#111111">())</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C5E478;--1:#3C63B3">Assert</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">assertNotNull</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#C5E478;--1:#3C63B3">u</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">getName</span><span style="--0:#D9F5DD;--1:#111111">())</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C5E478;--1:#3C63B3">Assert</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">assertNull</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#C5E478;--1:#3C63B3">u</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">getPrice</span><span style="--0:#D9F5DD;--1:#111111">())</span><span style="--0:#D6DEEB;--1:#403F53">; </span><span style="--0:#809191;--1:#5E6578">// このフィールドは検索されていません</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#5E6578">//3.x</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3C63B3">mapper</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">selectList</span><span style="--0:#D9F5DD;--1:#111111">(</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">Wrappers.</span><span style="--0:#C792EA;--1:#8D46B4">&lt;</span><span style="--0:#D6DEEB;--1:#403F53">User</span><span style="--0:#C792EA;--1:#8D46B4">&gt;</span><span style="--0:#82AAFF;--1:#3C63B3">lambdaQuery</span><span style="--0:#D9F5DD;--1:#111111">()</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">select</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D6DEEB;--1:#403F53">User</span><span style="--0:#C792EA;--1:#8D46B4">::</span><span style="--0:#D6DEEB;--1:#403F53">getId, User</span><span style="--0:#C792EA;--1:#8D46B4">::</span><span style="--0:#D6DEEB;--1:#403F53">getName</span><span style="--0:#D9F5DD;--1:#111111">)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#5E6578">//またはQueryWrapperを使用</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3C63B3">mapper</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">selectList</span><span style="--0:#D9F5DD;--1:#111111">(</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8D46B4">new</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">QueryWrapper</span><span style="--0:#D6DEEB;--1:#403F53">&lt;</span><span style="--0:#C792EA;--1:#8D46B4">User</span><span style="--0:#D6DEEB;--1:#403F53">&gt;()</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">select</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#ECC48D;--1:#9B504E">id</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#D6DEEB;--1:#403F53">,</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#ECC48D;--1:#9B504E">name</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#D9F5DD;--1:#111111">)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="EntityWrapper<H2User> ew = new EntityWrapper<>();ew.setSqlSelect(&#34;test_id as id, name, age&#34;);//3つのフィールドのみを検索List<H2User> list = userService.selectList(ew);for(H2User u:list){    Assert.assertNotNull(u.getId());    Assert.assertNotNull(u.getName());    Assert.assertNull(u.getPrice()); // このフィールドは検索されていません}//3.xmapper.selectList(    Wrappers.<User>lambdaQuery()    .select(User::getId, User::getName));//またはQueryWrapperを使用mapper.selectList(    new QueryWrapper<User>()    .select(&#34;id&#34;,&#34;name&#34;));"><div></div></button></div></figure></div>
<h2 id="mapper-層のセカンドレベルキャッシュ問題">Mapper 層のセカンドレベルキャッシュ問題</h2>
<p>キャッシュは service 層に配置することを推奨します。独自の BaseServiceImpl をカスタマイズして、アノテーション付きの親クラスメソッドをオーバーライドし、独自の実装を継承することができます。</p>
<h2 id="mapper-層のセカンダリキャッシュ更新問題">Mapper 層のセカンダリキャッシュ更新問題</h2>
<p>MyBatis の方法でサードパーティのセカンダリキャッシュを設定し、かつ 2.0.9 以上のバージョンを使用している場合、組み込みのメソッドではキャッシュ内容を更新できないことがあります。以下のいずれかの方法で解決してください（二択）：</p>
<ol>
<li>コード内の MyBatis の Mapper 層にキャッシュ注釈を追加し、implementation または eviction の値をキャッシュインターフェースの実装クラスとして宣言する</li>
</ol>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">@</span><span style="--0:#C792EA;--1:#8D46B4">CacheNamespace</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#82AAFF;--1:#3C63B3">implementation</span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#C5E478;--1:#3C63B3">MybatisRedisCache</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#FAF39F;--1:#111111">class</span><span style="--0:#D6DEEB;--1:#403F53">,</span><span style="--0:#82AAFF;--1:#3C63B3">eviction</span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#C5E478;--1:#3C63B3">MybatisRedisCache</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#FAF39F;--1:#111111">class</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">public</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">interface</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#FFCB8B;--1:#111111">DataResourceMapper</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">extends</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">BaseMapper</span><span style="--0:#D6DEEB;--1:#403F53">&lt;</span><span style="--0:#C792EA;--1:#8D46B4">DataResource</span><span style="--0:#D6DEEB;--1:#403F53">&gt;{}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="@CacheNamespace(implementation=MybatisRedisCache.class,eviction=MybatisRedisCache.class)public interface DataResourceMapper extends BaseMapper<DataResource>{}"><div></div></button></div></figure></div>
<ol start="2">
<li>対応する mapper.xml で既存の注釈をリンク式宣言に変更し、xml ファイル内のキャッシュが正常に機能するようにする</li>
</ol>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">cache-ref</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">namespace</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#ECC48D;--1:#9B504E">com.mst.cms.dao.DataResourceMapper</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&gt;&lt;/</span><span style="--0:#CAECE6">cache-ref</span><span style="--0:#7FDBCA">&gt;</span></span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="<cache-ref namespace=&#34;com.mst.cms.dao.DataResourceMapper&#34;></cache-ref>"><div></div></button></div></figure></div>
<h2 id="cause-orgapacheibatistypetypeexceptionerror-setting-null-for-parameter-1-with-jdbctype-other"><code dir="auto">Cause: org.apache.ibatis.type.TypeException:Error setting null for parameter #1 with JdbcType OTHER</code></h2>
<p>MyBatis-Plus において、<code dir="auto">jdbcTypeForNull</code> は重要な設定オプションであり、Java の <code dir="auto">null</code> 値をデータベースにどのようにマッピングするかを決定します。</p>
<p>デフォルトでは、Java でフィールドが <code dir="auto">null</code> の場合、MyBatis-Plus はそれをデータベースの <code dir="auto">JdbcType.OTHER</code> 値にマッピングします。しかし、一部の JDBC ドライバ（Oracle など）は <code dir="auto">JdbcType.OTHER</code> をサポートしていないため、デフォルト設定ではエラーが発生します: <code dir="auto">Cause: org.apache.ibatis.type.TypeException:Error setting null for parameter #1 with JdbcType OTHER . Try setting a different JdbcType for this parameter or a different jdbcTypeForNull configuration property. Cause: java.sql.SQLException: 無効な列タイプ: 1111</code>.</p>
<p><code dir="auto">jdbcTypeForNull</code> を設定するには、MyBatis-Plus の設定クラスに以下のコードを追加する必要があります（いずれか一つを選択してください）:</p>
<blockquote>
<p>Spring Bean 設定</p>
</blockquote>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">MybatisConfiguration</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">configuration</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">new</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">MybatisConfiguration</span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3C63B3">configuration</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">setDefaultScriptingLanguage</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#C5E478;--1:#3C63B3">MybatisXMLLanguageDriver</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--1:#111111"><span style="--0:#FAF39F">class</span><span style="--0:#D9F5DD">)</span></span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3C63B3">configuration</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">setJdbcTypeForNull</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#C5E478;--1:#3C63B3">JdbcType</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--1:#111111"><span style="--0:#FAF39F">NULL</span><span style="--0:#D9F5DD">)</span></span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3C63B3">sqlSessionFactory</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">setConfiguration</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D6DEEB;--1:#403F53">configuration</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="MybatisConfiguration configuration = new MybatisConfiguration();configuration.setDefaultScriptingLanguage(MybatisXMLLanguageDriver.class);configuration.setJdbcTypeForNull(JdbcType.NULL);sqlSessionFactory.setConfiguration(configuration);"><div></div></button></div></figure></div>
<blockquote>
<p>Yaml 設定</p>
</blockquote>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">mybatis-plus</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#111111">configuration</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">jdbc-type-for-null</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">&#39;</span><span style="--0:#ECC48D;--1:#9B504E">null</span><span style="--0:#D9F5DD;--1:#111111">&#39;</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="mybatis-plus:  configuration:    jdbc-type-for-null: 'null'"><div></div></button></div></figure></div>
<blockquote>
<p>Properties 設定</p>
</blockquote>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">mybatis-plus.configuration.jdbc-type-for-null</span><span style="--0:#D6DEEB;--1:#403F53">=NULL</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="mybatis-plus.configuration.jdbc-type-for-null=NULL"><div></div></button></div></figure></div>
<blockquote>
<p>XML 設定</p>
</blockquote>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">configuration</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">settings</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">setting</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">name</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#ECC48D;--1:#9B504E">jdbcTypeForNull</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#7FDBCA;--1:#8D46B4"> </span><span style="--0:#C5E478;--1:#3C63B3">value</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#ECC48D;--1:#9B504E">NULL</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#7FDBCA;--1:#8D46B4"> /&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">settings</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">configuration</span><span style="--0:#7FDBCA">&gt;</span></span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="<configuration>    <settings>        <setting name=&#34;jdbcTypeForNull&#34; value=&#34;NULL&#34; />    </settings></configuration>"><div></div></button></div></figure></div>
<blockquote>
<p>注意点として、プロジェクトで <code dir="auto">SqlSessionFactory</code> をカスタマイズしている場合、<code dir="auto">jdbc-type-for-null</code> 設定が無効になる可能性があります。</p>
</blockquote>
<h2 id="page-オブジェクトをカスタム-sql-でパラメータとして渡せない問題">Page オブジェクトをカスタム SQL でパラメータとして渡せない問題</h2>
<p>カスタム SQL において、Page オブジェクトは RowBounds を継承しているため、Mapper 内で直接取得することができません。この問題を解決するには、以下の代替案をご検討ください：</p>
<ul>
<li>カスタムの Map オブジェクトまたは通常の Java オブジェクトを使用してパラメータを渡す</li>
<li>メソッドパラメータで <code dir="auto">@Param(&quot;page&quot;) int page, @Param(&quot;size&quot;) int size</code> を使用して、ページ番号とページサイズを渡す</li>
</ul>
<p>これらの方法により、カスタム SQL でパラメータを正しく渡すことができ、コードの円滑な実行を確保できます。</p>
<h2 id="map-下划线自動キャメルケース変換の使用方法">Map 下划线自動キャメルケース変換の使用方法</h2>
<p><code dir="auto">resultType=&quot;java.util.Map&quot;</code> を使用する場合、Spring Boot で下線からキャメルケースへの自動変換を実装するには、以下の手順に従ってください。</p>
<p>Spring Boot プロジェクトに設定クラスを作成します。</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">@</span><span style="--0:#C792EA;--1:#8D46B4">Configuration</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">public</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">class</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#FFCB8B;--1:#111111">MybatisConfigurationCustomizer</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">@</span><span style="--0:#C792EA;--1:#8D46B4">Bean</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8D46B4">public</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">ConfigurationCustomizer</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">configurationCustomizer</span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#C792EA;--1:#8D46B4">return</span><span style="--0:#D6DEEB;--1:#403F53"> configuration </span><span style="--0:#C792EA;--1:#8D46B4">-&gt;</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">configuration</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">setObjectWrapperFactory</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#C792EA;--1:#8D46B4">new</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">MybatisMapWrapperFactory</span><span style="--0:#D9F5DD;--1:#111111">())</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="@Configurationpublic class MybatisConfigurationCustomizer {    @Bean    public ConfigurationCustomizer configurationCustomizer() {        return configuration -> configuration.setObjectWrapperFactory(new MybatisMapWrapperFactory());    }}"><div></div></button></div></figure></div>
<p>この設定により、Map 内の下線からキャメルケースへの自動変換が実現します。これにより、MyBatis のクエリ結果が Map オブジェクトにマッピングされる際、キー名が自動的に変換され、コード内でデータにアクセスする際により便利になります。</p>
<h2 id="wrapper-での-limit-を使用した-sql-制限方法">Wrapper での <code dir="auto">limit</code> を使用した SQL 制限方法</h2>
<p>Wrapper で <code dir="auto">limit</code> を使用して SQL の結果セットを制限するには、以下の方法があります：</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#5E6578">// データを1件のみ取得</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3C63B3">wrapper</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">last</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#ECC48D;--1:#9B504E">limit 1</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="// データを1件のみ取得wrapper.last(&#34;limit 1&#34;);"><div></div></button></div></figure></div>
<p>このコードは SQL 文の末尾に limit 1 を追加し、結果セットが返す行数を1行に制限します。</p>
<h2 id="汎用的なバッチ挿入操作を-service-層で処理する理由">汎用的なバッチ挿入操作を Service 層で処理する理由</h2>
<p>汎用的なバッチ挿入操作を Service 層で処理する理由は以下の通りです：</p>
<ul>
<li><strong>SQL 長の制限</strong>: 大量データを処理する場合、単一の SQL 文では実行できない、またはメモリリークや JDBC 接続タイムアウトなどの問題を引き起こす可能性があります。</li>
<li><strong>データベースによるバッチ構文の不一致</strong>: 異なるデータベースでは単一 SQL 文でのバッチ挿入構文が異なるため、汎用性に欠けます。</li>
<li><strong>解決策</strong>: ループ処理とプリペアドステートメントを使用したバッチコミット方式を採用します。単一 SQL 文での挿入よりもパフォーマンスは若干低下しますが、上記の問題を解決できます。</li>
</ul>
<p>単一 SQL 文での挿入方式を使用したい場合は、オプションメソッド <a href="https://baomidou.com/pages/49cc81/#insertbatchsomecolumn">insertbatchsomecolumn</a> を自行注入するか、<a href="https://baomidou.com/pages/42ea4a/">SQL インジェクター</a>で提供されているメソッドを参照してください。</p>
<h2 id="3xバージョンにおけるデータベースキーワードの処理方法">3.xバージョンにおけるデータベースキーワードの処理方法</h2>
<p>MyBatis-Plus 3.xでは、キーワードを自動的に識別して処理する機能は提供されなくなりました。データベースキーワードの処理方法には以下のいくつかの方法があります：</p>
<ol>
<li>
<p>異なるデータベースではキーワードの処理方法が異なるため、保守が困難です。データベース設計時には、フィールド名やテーブル名としてキーワードを使用しないことを推奨します。</p>
</li>
<li>
<p>キーワードを使用する必要がある場合は、フィールドまたはテーブル名の前後にバッククォート（`）を追加して処理することができます。以下の例をご覧ください：</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">@</span><span style="--0:#C792EA;--1:#8D46B4">TableField</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#82AAFF;--1:#3C63B3">value</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#ECC48D;--1:#9B504E">`status`</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">private</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">Boolean</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">status</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="@TableField(value = &#34;`status`&#34;)private Boolean status;"><div></div></button></div></figure></div>
</li>
</ol>
<p>以上のことから、問題を回避するためには、データベース設計においてキーワードの使用を可能な限り避けることをお勧めします。</p>
<h2 id="mybatisplusexception-プロパティ名-xxx-に対応するデータベース列名が見つかりません">MybatisPlusException: プロパティ名 “xxx” に対応するデータベース列名が見つかりません！</h2>
<p>MyBatis Plus 3.1.1 以降のバージョンで発生する問題について：</p>
<p><strong>現象</strong>: 単体テストでは問題ありませんが、サーバーを起動してデバッグする際にこの例外が発生します。</p>
<p><strong>原因</strong>: 3.1.1 以降のバージョンでは、フィールドキャッシュの最適化が行われており、元のクラス名（className）の代わりに <code dir="auto">.class</code> をキーとして使用しています。しかし、dev-tools を使用している場合、<code dir="auto">.class</code> が異なるクラスローダーでロードされる可能性があり、その結果、プロパティが見つからない状況が発生します。</p>
<p><strong>解決策</strong>: dev-tools プラグインを削除してください。これにより、異なるクラスローダーで <code dir="auto">.class</code> がロードされるのを防ぎ、この例外問題を解決できます。</p>
<h2 id="カラム-create_time-を結果セットから取得しようとした際のエラー原因-javasqlsqlfeaturenotsupportedexception">カラム “create_time” を結果セットから取得しようとした際のエラー。原因: java.sql.SQLFeatureNotSupportedException</h2>
<p>MyBatis Plus 3.1.1 以降のバージョンで発生する問題です：</p>
<p><strong>現象</strong>: Druid データソースを統合している環境で、3.1.1 以降のバージョンにアップグレードした後、エラー <code dir="auto">java.sql.SQLFeatureNotSupportedException</code> が発生します。3.1.0 以前のバージョンではこの問題は発生しません。</p>
<p><strong>原因</strong>: MyBatis Plus 3.1.1 以降のバージョンでは、新しいバージョンの JDBC が採用され、新しい日付型（例: <code dir="auto">LocalDateTime</code>）の処理方法がアップグレードされました。しかし、Druid は 1.1.21 より前のバージョンではこの機能をサポートしておらず、この例外が発生します。詳細については、<a href="https://github.com/baomidou/mybatis-plus/issues/1245">関連する Issue</a> を参照してください。</p>
<p><strong>解決策</strong>:</p>
<ol>
<li>Druid データソースを 1.1.21 以降のバージョンにアップグレードすることで、この問題を解決できます。</li>
<li>Druid データソースをアップグレードできない場合は、MyBatis Plus のバージョンを 3.1.0 以前に維持することを選択できます。</li>
<li>最新の MyBatis Plus バージョンを引き続き使用する場合は、この例外を回避するために、新しいバージョンの JDBC と互換性のある他のデータソースへの変更を検討できます。</li>
</ol>
<h2 id="mybatis-plus-を-311-以降にアップグレード後新しい日付型がマッピングできないエラー">MyBatis Plus を 3.1.1 以降にアップグレード後、新しい日付型がマッピングできないエラー</h2>
<p>MyBatis Plus を 3.1.0 以下のバージョンから上位バージョンにアップグレードし、新しい日付型（LocalDateTime など）がマッピングできないエラーが発生した場合、以下の理由が考えられます：</p>
<p>MP_3.1.0 およびそれ以前のバージョンは MyBatis 3.5.0 に依存しています。一方、MP_3.1.1 では MyBatis の依存関係が 3.5.1 にアップグレードされました。MyBatis 3.5.1 では、新しい日付型には JDBC 4.2 API をサポートする JDBC ドライバが必要です。</p>
<p>お使いの JDBC ドライバのバージョンが JDBC 4.2 API をサポートしていない場合、新しい日付型がマッピングできないエラーが発生します。</p>
<p><a href="blog.mybatis.org">MyBatis 公式ブログ</a> の内容を参照：</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">There is one backward incompatible changes since 3.5.0.</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">Because of the fix for #1478 , LocalDateTypeHandler, LocalTimeTypeHandler and LocalDateTimeTypeHandler now require a JDBC driver that supports JDBC 4.2 API.</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">[EDIT] These type handlers no longer work with Druid. Please see #1516 .</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="There is one backward incompatible changes since 3.5.0.    Because of the fix for #1478 , LocalDateTypeHandler, LocalTimeTypeHandler and LocalDateTimeTypeHandler now require a JDBC driver that supports JDBC 4.2 API.    [EDIT] These type handlers no longer work with Druid. Please see #1516 ."><div></div></button></div></figure></div>
<p>解決策：</p>
<ul>
<li>JDBC ドライバを JDBC 4.2 API をサポートするバージョンにアップグレードしてください。</li>
<li>JDBC ドライバをアップグレードできない場合は、MyBatis Plus のバージョンを 3.1.0 またはそれ以前のバージョンにロールバックすることを検討してください。</li>
</ul>
<h2 id="mybatis-plusconfigurationincomplete-result-maps0assistantconfigurationmapped-statements0parameter-mapparameter-mappings0-配下のプロパティを-orgapacheibatismappingparametermapping-にバインドできませんでした">“mybatis-plus.configuration.incomplete-result-maps[0].assistant.configuration.mapped-statements[0].parameter-map.parameter-mappings[0]” 配下のプロパティを org.apache.ibatis.mapping.ParameterMapping にバインドできませんでした</h2>
<p>Spring Boot バージョンを 2.2.0 からより新しいバージョンにアップグレードする際にこの問題が発生した場合、以下の理由が考えられます。</p>
<p><strong>現象</strong>: ローカル環境での起動時には問題ありませんが、war パッケージにビルドしてサーバーにデプロイするとこの問題が発生します。</p>
<p><strong>原因</strong>: Spring Boot 2.2.0 にはコンストラクタインジェクションの問題が存在し、MyBatis のプライベートコンストラクタがプロパティを正しくバインドできないため、MyBatis に依存するフレームワーク（MyBatis Plus など）でエラーが発生します。詳細については <a href="https://github.com/spring-projects/spring-boot/issues/18670">関連 issue</a> を参照してください。この問題は Spring Boot 2.2.1 で修正されました。</p>
<p><strong>解決策</strong>:</p>
<ol>
<li>Spring Boot を 2.1.x バージョンにダウングレードするか、2.2.1 以降のバージョンにアップグレードしてください。より良い安定性と修正を確保するために、Spring Boot 2.2.2 への直接アップグレードを推奨します。</li>
</ol>
<h2 id="分離パッケージデプロイ時の-classnotfoundexception">分離パッケージデプロイ時の ClassNotFoundException</h2>
<p>現象：開発ツール内での実行では問題ありませんが、プロジェクトをパッケージ化してサーバーにデプロイした後、Lambda 式を実行すると ClassNotFoundException が発生します。</p>
<p>MyBatis-Plus 3.3.2 より前のバージョンでは、分離パッケージデプロイ時に ClassNotFoundException の問題が発生する場合、逆シリアル化操作の実行中にクラスローダーでエラーが発生している可能性があります。</p>
<p>解決策：</p>
<ol>
<li><code dir="auto">spring-boot-maven-plugin</code> プラグインを除去してパッケージ化する、または</li>
<li>MyBatis-Plus 3.3.2 バージョンにアップグレードする。操作については、サンプル <a href="https://gitee.com/baomidou/mybatis-plus-samples/tree/master/mybatis-plus-sample-assembly">分離パッケージ</a> を参照してください。</li>
</ol>
<h2 id="mybatis-内部ログ記録の有効化">MyBatis 内部ログ記録の有効化</h2>
<p>MyBatis 内部のログ記録を有効にするには、以下の2つの方法があります：</p>
<p><strong>方法一：</strong>
<code dir="auto">application.yml</code> または <code dir="auto">application.properties</code> ファイルに以下の設定を追加します：</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">mybatis-plus</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#111111">configuration</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#809191;--1:#616671"># プロジェクトにログフレームワークがない場合、org.apache.ibatis.logging.stdout.StdOutImpl を指定することができます（実際の本番環境では使用しないでください）。</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">log-impl</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">org.apache.ibatis.logging.stdout.StdOutImpl</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="mybatis-plus:  configuration:    # プロジェクトにログフレームワークがない場合、org.apache.ibatis.logging.stdout.StdOutImpl を指定することができます（実際の本番環境では使用しないでください）。    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl"><div></div></button></div></figure></div>
<p>これにより、MyBatis 組み込みの StdOutImpl ログ記録実装を使用して、ログがコンソールに出力されます。</p>
<p><strong>方法二：</strong>
<code dir="auto">application.yml</code> または <code dir="auto">application.properties</code> ファイルにログレベル設定を追加し、特定のパッケージのログレベルを指定します。例：</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">logging</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#111111">level</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">com.baomidou.example.mapper</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">debug</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="logging:  level:    com.baomidou.example.mapper: debug"><div></div></button></div></figure></div>
<p>これにより、com.baomidou.example.mapper パッケージ以下のログレベルが debug に指定されます。必要に応じてレベルを調整できます。</p>
<p>上記の設定により、MyBatis 内部のログ記録を有効にし、必要に応じてログレベルを調整することができます。</p>
<h2 id="update-時にフィールドをインクリメントする方法">update 時にフィールドをインクリメントする方法</h2>
<p>更新操作時に特定のフィールドをインクリメントしたい場合、MyBatis Plus が提供する <code dir="auto">Wrapper</code> を使用して更新を行うことができます。以下に実現可能なソリューションを示します：</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">UpdateWrapper</span><span style="--0:#D6DEEB;--1:#403F53">&lt;</span><span style="--0:#C792EA;--1:#8D46B4">Entity</span><span style="--0:#D6DEEB;--1:#403F53">&gt; </span><span style="--0:#C5E478;--1:#3C63B3">wrapper</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">new</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">UpdateWrapper</span><span style="--0:#D6DEEB;--1:#403F53">&lt;&gt;();</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3C63B3">wrapper</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">setSql</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#ECC48D;--1:#9B504E">column = column + 1</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#5E6578">// または Lambda 式を使用</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">UpdateWrapper</span><span style="--0:#D6DEEB;--1:#403F53">&lt;</span><span style="--0:#C792EA;--1:#8D46B4">Entity</span><span style="--0:#D6DEEB;--1:#403F53">&gt; </span><span style="--0:#C5E478;--1:#3C63B3">wrapper</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">new</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">UpdateWrapper</span><span style="--0:#D6DEEB;--1:#403F53">&lt;&gt;();</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3C63B3">wrapper</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">setSql</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#ECC48D;--1:#9B504E">column = column + 1</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#5E6578">// update メソッドを呼び出す</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3C63B3">baseMapper</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">update</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#82AAFF;--1:#3C63B3">null</span><span style="--0:#D6DEEB;--1:#403F53">, wrapper</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="UpdateWrapper<Entity> wrapper = new UpdateWrapper<>();wrapper.setSql(&#34;column = column + 1&#34;);// または Lambda 式を使用UpdateWrapper<Entity> wrapper = new UpdateWrapper<>();wrapper.setSql(&#34;column = column + 1&#34;);// update メソッドを呼び出すbaseMapper.update(null, wrapper);"><div></div></button></div></figure></div>
<p>この方法で、更新時にフィールドをインクリメントすることができます。<code dir="auto">setSql</code> メソッド内で直接 SQL 更新文を指定する必要があることに注意してください。</p>
<h2 id="データベースキーワードのグローバル処理方法">データベースキーワードのグローバル処理方法</h2>
<p>データベースキーワードをグローバルに処理したい場合は、MyBatis Plusが提供するグローバル設定を使用できます。以下は設定例です（MySQLの場合）：</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">mybatis-plus</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#111111">global-config</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">db-config</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#7FDBCA;--1:#111111">column-format</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#ECC48D;--1:#9B504E">`%s`</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="mybatis-plus:  global-config:    db-config:      column-format: &#34;`%s`&#34;"><div></div></button></div></figure></div>
<p>この設定により、MyBatis PlusはSQL文を生成する際、データベースフィールド名をバッククォート（“）で囲み、データベースキーワードとの衝突を防ぎます。</p>
<p>以下の点に注意してください：</p>
<ul>
<li><code dir="auto">@TableField</code>アノテーションを使用しており、グローバルな書式設定を維持したい場合は、パラメータ<code dir="auto">keepGlobalFormat=true</code>を設定する必要があります。</li>
<li><code dir="auto">@TableField</code>アノテーション内で固定形式のデータベースキーワードを直接指定することもできます。例：<code dir="auto">@TableField(&quot;&#39;status&#39;&quot;)</code></li>
</ul>
<p>上記の設定により、データベースキーワードをグローバルに処理し、生成されるSQL文がキーワードの影響を受けないようにすることができます。</p>
<h2 id="xml-でデータベースの種類に基づいて異なる-sql-フラグメントを選択する方法">XML でデータベースの種類に基づいて異なる SQL フラグメントを選択する方法</h2>
<p>XML でデータベースの種類に基づいて異なる SQL フラグメントを選択したい場合、MyBatis Plus が提供する <code dir="auto">database-id</code> パラメータを使用できます。以下は設定例です（MySQL を例として）：</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">mybatis-plus</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#111111">configuration</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">database-id</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">mysql</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="mybatis-plus:  configuration:    database-id: mysql"><div></div></button></div></figure></div>
<p>このように設定すると、MyBatis Plus は SQL 文を実行する際に、<code dir="auto">database-id</code> パラメータに基づいて異なる SQL フラグメントを選択します。</p>
<p>XML では以下の異なる書き方で判別できます：</p>
<ol>
<li>変数 <code dir="auto">_databaseId</code> を使用：</li>
</ol>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">select</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">id</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#ECC48D;--1:#9B504E">selectAllNames</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#7FDBCA;--1:#8D46B4"> </span><span style="--0:#C5E478;--1:#3C63B3">resultType</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#ECC48D;--1:#9B504E">java.lang.String</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#7FDBCA;--1:#8D46B4">&gt;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">select</span></div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">choose</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">when</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">test</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#ECC48D;--1:#9B504E">_databaseId == &#39;mysql&#39;</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#7FDBCA;--1:#8D46B4">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">        </span></span><span style="--0:#D6DEEB;--1:#403F53">GROUP_CONCAT(name SEPARATOR &#39;,&#39;)</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">when</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">otherwise</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">        </span></span><span style="--0:#D6DEEB;--1:#403F53">array_to_string(ARRAY_AGG(name), &#39;,&#39;)</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">otherwise</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">choose</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">from user</span></div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">select</span><span style="--0:#7FDBCA">&gt;</span></span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="<select id=&#34;selectAllNames&#34; resultType=&#34;java.lang.String&#34;>select<choose>    <when test=&#34;_databaseId == 'mysql'&#34;>        GROUP_CONCAT(name SEPARATOR ',')    </when>    <otherwise>        array_to_string(ARRAY_AGG(name), ',')    </otherwise></choose>from user</select>"><div></div></button></div></figure></div>
<ol start="2">
<li>タグ属性 <code dir="auto">databaseId</code> を使用：</li>
</ol>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">select</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">id</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#ECC48D;--1:#9B504E">selectAllNames</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#7FDBCA;--1:#8D46B4"> </span><span style="--0:#C5E478;--1:#3C63B3">databaseId</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#ECC48D;--1:#9B504E">mysql</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#7FDBCA;--1:#8D46B4"> </span><span style="--0:#C5E478;--1:#3C63B3">resultType</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#ECC48D;--1:#9B504E">java.lang.String</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#7FDBCA;--1:#8D46B4">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">     </span></span><span style="--0:#D6DEEB;--1:#403F53">select GROUP_CONCAT(name SEPARATOR &#39;,&#39;) from user</span></div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">select</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">select</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3C63B3">id</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#ECC48D;--1:#9B504E">selectAllNames</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#7FDBCA;--1:#8D46B4"> </span><span style="--0:#C5E478;--1:#3C63B3">databaseId</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#ECC48D;--1:#9B504E">pgsql</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#7FDBCA;--1:#8D46B4"> </span><span style="--0:#C5E478;--1:#3C63B3">resultType</span><span style="--0:#7FDBCA;--1:#8D46B4">=</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#ECC48D;--1:#9B504E">java.lang.String</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#7FDBCA;--1:#8D46B4">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">     </span></span><span style="--0:#D6DEEB;--1:#403F53">select array_to_string(ARRAY_AGG(name), &#39;,&#39;) from user</span></div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">select</span><span style="--0:#7FDBCA">&gt;</span></span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="<select id=&#34;selectAllNames&#34; databaseId=&#34;mysql&#34; resultType=&#34;java.lang.String&#34;>     select GROUP_CONCAT(name SEPARATOR ',') from user</select><select id=&#34;selectAllNames&#34; databaseId=&#34;pgsql&#34; resultType=&#34;java.lang.String&#34;>     select array_to_string(ARRAY_AGG(name), ',') from user</select>"><div></div></button></div></figure></div>
<p>上記の設定により、異なるデータベースの種類に基づいて異なる SQL フラグメントを選択できます。</p>
<h2 id="mybatis-plus-が複合主キーをサポートせず一意な-id-を強制する理由について">MyBatis Plus が複合主キーをサポートせず、一意な ID を強制する理由について</h2>
<p>MyBatis Plus が複合主キーをサポートせず、一意な ID の使用を強制する理由は、以下の考慮事項によるものです：</p>
<ol>
<li>
<p><strong>テーブル間の相互依存性の増加</strong>：複合主キーを使用すると、テーブル間の関係がより複雑になり、保守と管理の難易度が増加します。</p>
</li>
<li>
<p><strong>データの複雑な制約、ルールの増加</strong>：複合主キーはデータの制約とルールを増加させます。例えば、一意性の制約が必要となりますが、これは完全に複合インデックスを使用して実現できます。</p>
</li>
<li>
<p><strong>データ更新の制限の増加</strong>：データを更新する際、すべての複合主キーの値を更新する必要があり、更新操作の制限と複雑さが増加します。</p>
</li>
<li>
<p><strong>深刻なデータ冗長性と更新異常の問題</strong>：複合主キーは、データの冗長性と更新異常の問題を引き起こす可能性があります。特に大規模なシステムでは、更新異常が発生する場合があります。</p>
</li>
<li>
<p><strong>パフォーマンスの問題</strong>：複合主キーを使用する場合、特定の ID をクエリする際にインデックスを使用できず、パフォーマンスの低下を招きます。</p>
</li>
</ol>
<p>以上をまとめると、複合主キーを使用することで 1 つの ID フィールドを省くことはできますが、この方法の欠点は利点を上回ります。そのため、このような方法は推奨しません。MyBatis Plus は、データ管理の単純性、保守性、およびパフォーマンスを保証するために、一意な ID の使用を堅持しています。</p>
<h2 id="プロジェクト起動速度の低下">プロジェクト起動速度の低下</h2>
<ul>
<li>
<p>デフォルトのSnowflake ID初期化が原因</p>
<ol>
<li>ローカルマシンのホスト名を確認</li>
<li>システムのhostsファイルを編集し、ローカルマシンのホスト名をhostsファイルに書き込む</li>
</ol>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#616671"># 例: ホスト名がnieqiurong-PCの場合、hostsファイルに以下のように設定します</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">127.0.0.1       localhost nieqiurong-PC</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="# 例: ホスト名がnieqiurong-PCの場合、hostsファイルに以下のように設定します127.0.0.1       localhost nieqiurong-PC"><div></div></button></div></figure></div>
</li>
<li>
<p>データベース接続プールの初期化を確認</p>
<p>Hikariを使用した場合、Linuxシステムで起動が遅くなる事例があります</p>
<p>解決策:</p>
<p>Java起動コマンドで -Djava.security.egd=file:/dev/urandom を指定し、乱数取得方法を /dev/random から /dev/urandom に変更します</p>
<p>例: java -Djava.security.egd=file:/dev/urandom -jar xxxx.jar</p>
</li>
</ul>
<h2 id="357-バージョンにおける-dbsavebatch-の戻り値が常に-false-になる問題">3.5.7+ バージョンにおける Db.saveBatch の戻り値が常に false になる問題</h2>
<ul>
<li>原因：ドライバーの設定に互換性がないため</li>
</ul>
<blockquote>
<p>解決策：ドライバー接続から <code dir="auto">rewriteBatchedStatements=true</code> 設定を削除してください</p>
</blockquote>
<h2 id="pageまたはlistが返す結果セットがnullまたは一部のnull要素を含む場合">PageまたはListが返す結果セットがnull、または一部のnull要素を含む場合</h2>
<ul>
<li>原因：MyBatisはデフォルトでは、返される行のすべての列が空の場合（属性が自動マッピングできない場合を含む）、デフォルトでnullを返します</li>
</ul>
<blockquote>
<p>解決策：returnInstanceForEmptyRow を true に設定します</p>
</blockquote>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">mybatis-plus</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">configuration</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#7FDBCA;--1:#111111">return-instance-for-empty-row</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#FF5874;--1:#A54A4A">true</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="mybatis-plus:    configuration:        return-instance-for-empty-row: true"><div></div></button></div></figure></div>
<h2 id="戻り値が-map-または-listmap-の場合null-値に対応する-key-が-map-に追加されない">戻り値が Map または List&lt;Map&gt; の場合、null 値に対応する key が Map に追加されない</h2>
<ul>
<li>原因：MyBatis はデフォルトでは、null が返される場合に put メソッドを呼び出しません</li>
</ul>
<blockquote>
<p>解決策：callSettersOnNulls を true に設定します</p>
</blockquote>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">mybatis-plus</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">configuration</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#7FDBCA;--1:#111111">call-setters-on-nulls</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#FF5874;--1:#A54A4A">true</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="mybatis-plus:    configuration:        call-setters-on-nulls: true"><div></div></button></div></figure></div>
<h2 id="basemapperメソッドの書き換え方法">BaseMapperメソッドの書き換え方法</h2>
<p>インターフェースメソッドの書き換えを行う場合は、defaultメソッドと抽象インターフェースメソッドを区別してください。書き換えるメソッドは、最終的に呼び出される実際のメソッドに準拠する必要があります。</p>
<p>抽象インターフェースメソッド: XMLで直接このメソッドを書き換えることで完了します</p>
<p>defaultメソッド: 実際に呼び出されるメソッドを直接書き換えるか、元のdefaultメソッドを実際のインターフェースメソッドとして書き換えた後、XMLまたはアノテーション方式で実行文を書き換えます。</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#5E6578">// 方式一: アノテーション方式によるBaseMapperのselectPageメソッドの書き換え（低バージョンではインターフェースメソッドの場合があります。ここでは新版のdefaultを例とします）</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">@</span><span style="--0:#C792EA;--1:#8D46B4">Override</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">@</span><span style="--0:#C792EA;--1:#8D46B4">Select</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#ECC48D;--1:#9B504E">select * from h2user</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">&lt;P</span><span style="--0:#D6DEEB;--1:#403F53"> extends </span><span style="--0:#C792EA;--1:#8D46B4">IPage&lt;</span><span style="--0:#D6DEEB;--1:#403F53">H2User</span><span style="--0:#C792EA;--1:#8D46B4">&gt;&gt;</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">P</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">selectPage</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#C792EA;--1:#8D46B4">P</span><span style="--0:#82AAFF;--1:#3C63B3"> page, @</span><span style="--0:#C792EA;--1:#8D46B4">Param</span><span style="--1:#3C63B3"><span style="--0:#82AAFF">(</span><span style="--0:#C5E478">Constants</span><span style="--0:#82AAFF">.</span></span><span style="--0:#FAF39F;--1:#111111">WRAPPER</span><span style="--0:#82AAFF;--1:#3C63B3">) </span><span style="--0:#C792EA;--1:#8D46B4">Wrapper&lt;</span><span style="--0:#82AAFF;--1:#3C63B3">H2User</span><span style="--0:#C792EA;--1:#8D46B4">&gt;</span><span style="--0:#82AAFF;--1:#3C63B3"> queryWrapper</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#5E6578">// 方式二: XML方式によるBaseMapperのselectPageメソッドの書き換え（低バージョンではインターフェースメソッドの場合があります。ここでは新版のdefaultを例とします）</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">@</span><span style="--0:#C792EA;--1:#8D46B4">Override</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">&lt;P</span><span style="--0:#D6DEEB;--1:#403F53"> extends </span><span style="--0:#C792EA;--1:#8D46B4">IPage&lt;</span><span style="--0:#D6DEEB;--1:#403F53">H2User</span><span style="--0:#C792EA;--1:#8D46B4">&gt;&gt;</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">P</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">selectPage</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#C792EA;--1:#8D46B4">P</span><span style="--0:#82AAFF;--1:#3C63B3"> page, @</span><span style="--0:#C792EA;--1:#8D46B4">Param</span><span style="--1:#3C63B3"><span style="--0:#82AAFF">(</span><span style="--0:#C5E478">Constants</span><span style="--0:#82AAFF">.</span></span><span style="--0:#FAF39F;--1:#111111">WRAPPER</span><span style="--0:#82AAFF;--1:#3C63B3">) </span><span style="--0:#C792EA;--1:#8D46B4">Wrapper&lt;</span><span style="--0:#82AAFF;--1:#3C63B3">H2User</span><span style="--0:#C792EA;--1:#8D46B4">&gt;</span><span style="--0:#82AAFF;--1:#3C63B3"> queryWrapper</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#5E6578">// ここでXML内でselectPageのクエリ文を自分で書き換えます</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#5E6578">// 方式三: BaseMapperのselectPageメソッドの書き換え</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">@</span><span style="--0:#C792EA;--1:#8D46B4">Override</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">default</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">&lt;P</span><span style="--0:#D6DEEB;--1:#403F53"> extends </span><span style="--0:#C792EA;--1:#8D46B4">IPage&lt;</span><span style="--0:#D6DEEB;--1:#403F53">User</span><span style="--0:#C792EA;--1:#8D46B4">&gt;&gt;</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">P</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">selectPage</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#C792EA;--1:#8D46B4">P</span><span style="--0:#82AAFF;--1:#3C63B3"> page, @</span><span style="--0:#C792EA;--1:#8D46B4">Param</span><span style="--1:#3C63B3"><span style="--0:#82AAFF">(</span><span style="--0:#C5E478">Constants</span><span style="--0:#82AAFF">.</span></span><span style="--0:#FAF39F;--1:#111111">WRAPPER</span><span style="--0:#82AAFF;--1:#3C63B3">) </span><span style="--0:#C792EA;--1:#8D46B4">Wrapper&lt;</span><span style="--0:#82AAFF;--1:#3C63B3">User</span><span style="--0:#C792EA;--1:#8D46B4">&gt;</span><span style="--0:#82AAFF;--1:#3C63B3"> queryWrapper</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#C792EA;--1:#8D46B4">return</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">xxxx</span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53">; </span><span style="--0:#809191;--1:#5E6578">//実際に呼び出される自分で定義した実際のインターフェースメソッド</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="// 方式一: アノテーション方式によるBaseMapperのselectPageメソッドの書き換え（低バージョンではインターフェースメソッドの場合があります。ここでは新版のdefaultを例とします）@Override@Select(&#34;select * from h2user&#34;)<P extends IPage<H2User>> P selectPage(P page, @Param(Constants.WRAPPER) Wrapper<H2User> queryWrapper);// 方式二: XML方式によるBaseMapperのselectPageメソッドの書き換え（低バージョンではインターフェースメソッドの場合があります。ここでは新版のdefaultを例とします）@Override<P extends IPage<H2User>> P selectPage(P page, @Param(Constants.WRAPPER) Wrapper<H2User> queryWrapper);// ここでXML内でselectPageのクエリ文を自分で書き換えます// 方式三: BaseMapperのselectPageメソッドの書き換え@Overridedefault <P extends IPage<User>> P selectPage(P page, @Param(Constants.WRAPPER) Wrapper<User> queryWrapper) {  return xxxx(); //実際に呼び出される自分で定義した実際のインターフェースメソッド}"><div></div></button></div></figure></div>
<h2 id="kotlinでインターフェースのdefaultメソッドを呼び出すと-invalid-bound-statement-not-found-が発生する">Kotlinでインターフェースのdefaultメソッドを呼び出すと Invalid bound statement (not found) が発生する</h2>
<ul>
<li>原因：<a href="https://blog.jetbrains.com/kotlin/2020/07/kotlin-1-4-m3-generating-default-methods-in-interfaces/">https://blog.jetbrains.com/kotlin/2020/07/kotlin-1-4-m3-generating-default-methods-in-interfaces/</a></li>
</ul>
<blockquote>
<p>解決策：コンパイルプラグインのコンパイルパラメータに <code dir="auto">-Xjvm-default=all</code> を設定する</p>
</blockquote>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">plugin</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">     </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">groupId</span><span style="--0:#7FDBCA">&gt;</span></span><span style="--0:#D6DEEB;--1:#403F53">org.jetbrains.kotlin</span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">groupId</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">     </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">artifactId</span><span style="--0:#7FDBCA">&gt;</span></span><span style="--0:#D6DEEB;--1:#403F53">kotlin-maven-plugin</span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">artifactId</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">     </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">version</span><span style="--0:#7FDBCA">&gt;</span></span><span style="--0:#D6DEEB;--1:#403F53">${kotlin.version}</span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">version</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">     </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">configuration</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">args</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">arg</span><span style="--0:#7FDBCA">&gt;</span></span><span style="--0:#D6DEEB;--1:#403F53">-Xjsr305=strict</span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">arg</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;</span><span style="--0:#CAECE6">arg</span><span style="--0:#7FDBCA">&gt;</span></span><span style="--0:#D6DEEB;--1:#403F53">-Xjvm-default=all</span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">arg</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">args</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">     </span><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">configuration</span><span style="--0:#7FDBCA">&gt;</span></span></div></div><div class="ec-line"><div class="code"><span style="--1:#8D46B4"><span style="--0:#7FDBCA">&lt;/</span><span style="--0:#CAECE6">plugin</span><span style="--0:#7FDBCA">&gt;</span></span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="<plugin>     <groupId>org.jetbrains.kotlin</groupId>     <artifactId>kotlin-maven-plugin</artifactId>     <version>${kotlin.version}</version>     <configuration>        <args>            <arg>-Xjsr305=strict</arg>            <arg>-Xjvm-default=all</arg>        </args>     </configuration></plugin>"><div></div></button></div></figure></div>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">compileKotlin {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">kotlinOptions {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">        </span></span><span style="--0:#D6DEEB;--1:#403F53">freeCompilerArgs </span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> [</span><span style="--0:#D9F5DD;--1:#111111">&#39;</span><span style="--0:#ECC48D;--1:#9B504E">-Xjvm-default=all</span><span style="--0:#D9F5DD;--1:#111111">&#39;</span><span style="--0:#D6DEEB;--1:#403F53">]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="compileKotlin {    kotlinOptions {        freeCompilerArgs = ['-Xjvm-default=all']    }}"><div></div></button></div></figure></div>
<h2 id="encountered-unexpected-token-nnn-或-could-not-set-parameters-for-mapping">Encountered unexpected token: “\n\n\n” 或 Could not set parameters for mapping</h2>
<ul>
<li>
<p>原因：jsqlParser4.9では、連続した改行はステートメントの終了と見なされ、Encountered unexpected token解析エラーがスローされます。5.0以降では、連続した<code dir="auto">\n\n</code>に遭遇すると、後続のステートメントが切り捨てられ、mybatis層でCould not set parameters for mappingエラーが発生します。</p>
<p>参考リンク: <a href="https://github.com/JSQLParser/JSqlParser/issues/1988">https://github.com/JSQLParser/JSqlParser/issues/1988</a></p>
<p>mybatis-plusはバージョン3.5.3.2以降、フレームワーク内で組み込み注入されるSQLの改行処理に対応していますが、プロジェクト内で独自に記述されたステートメントについては、自身で処理する必要があります。</p>
</li>
<li>
<p>注意: バージョン3.5.10および3.5.10.1では、プロジェクト内の改行状況を処理しますが、プロジェクト内で単行コメント（<code dir="auto">--</code> または <code dir="auto">#</code> のようなステートメント）を使用している場合の処理はサポートされていません。バージョン3.5.11以降ではこの処理は行われなくなります。連続した改行を含むステートメントを処理する必要がある場合は、以下の方法で対応できます。</p>
</li>
</ul>
<p>方法一:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">static</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C5E478;--1:#3C63B3">JsqlParserGlobal</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">setParserMultiFunc</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D6DEEB;--1:#403F53">(sql)</span><span style="--0:#C792EA;--1:#8D46B4">-&gt;</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#C792EA;--1:#8D46B4">String</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">formatSql</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">CCJSqlParserUtil</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">sanitizeSingleSql</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D6DEEB;--1:#403F53">sql</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#C792EA;--1:#8D46B4">return</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">CCJSqlParserUtil</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">parseStatements</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D6DEEB;--1:#403F53">formatSql, </span><span style="--0:#C5E478;--1:#3C63B3">JsqlParserGlobal</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">getExecutorService</span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#82AAFF;--1:#3C63B3">null</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C5E478;--1:#3C63B3">JsqlParserGlobal</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">setParserSingleFunc</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D6DEEB;--1:#403F53">(sql)</span><span style="--0:#C792EA;--1:#8D46B4">-&gt;</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#C792EA;--1:#8D46B4">String</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">formatSql</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">CCJSqlParserUtil</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">sanitizeSingleSql</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D6DEEB;--1:#403F53">sql</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#C792EA;--1:#8D46B4">return</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">CCJSqlParserUtil</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">parse</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D6DEEB;--1:#403F53">formatSql, </span><span style="--0:#C5E478;--1:#3C63B3">JsqlParserGlobal</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">getExecutorService</span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#82AAFF;--1:#3C63B3">null</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#5E6578">// jsqlParserが5.0未満の場合、以下のメソッドを自身のプロジェクトにコピーしてください。コードはJsqlParser5.0バージョンに由来します。</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">public</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">static</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">String</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">sanitizeSingleSql</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#C792EA;--1:#8D46B4">String</span><span style="--0:#82AAFF;--1:#3C63B3"> sqlStr</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#C792EA;--1:#8D46B4">Pattern</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">SQL_DELIMITER_SPLIT</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">Pattern</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">compile</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#ECC48D;--1:#9B504E">((?:&#39;[^&#39;]*+&#39;|[^</span><span style="--0:#F78C6C;--1:#AA0982">\\</span><span style="--0:#ECC48D;--1:#9B504E">n])*+)</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#C792EA;--1:#8D46B4">StringBuilder</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">builder</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">new</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">StringBuilder</span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#C792EA;--1:#8D46B4">Matcher</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">matcher</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">SQL_DELIMITER_SPLIT</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">matcher</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D6DEEB;--1:#403F53">sqlStr</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#C792EA;--1:#8D46B4">while</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C5E478;--1:#3C63B3">matcher</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">find</span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53">) {</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#C792EA;--1:#8D46B4">for</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C792EA;--1:#8D46B4">int</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">i</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">1</span><span style="--0:#D6DEEB;--1:#403F53">; i </span><span style="--0:#C792EA;--1:#8D46B4">&lt;=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">matcher</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">groupCount</span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53">; </span><span style="--0:#7FDBCA;--1:#097174">++</span><span style="--0:#D6DEEB;--1:#403F53">i) {</span></div></div><div class="ec-line"><div class="code"><span class="indent">                </span><span style="--0:#C792EA;--1:#8D46B4">if</span><span style="--0:#D6DEEB;--1:#403F53"> (</span><span style="--0:#C792EA;--1:#8D46B4">!</span><span style="--0:#C5E478;--1:#3C63B3">matcher</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">group</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D6DEEB;--1:#403F53">i</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">isEmpty</span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53">) {</span></div></div><div class="ec-line"><div class="code"><span class="indent">                    </span><span style="--0:#C5E478;--1:#3C63B3">builder</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">append</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#F78C6C;--1:#AA0982">\n</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">append</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#C5E478;--1:#3C63B3">matcher</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">group</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D6DEEB;--1:#403F53">i</span><span style="--0:#D9F5DD;--1:#111111">))</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">                </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">            </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">        </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#C792EA;--1:#8D46B4">return</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">builder</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">toString</span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="static {    JsqlParserGlobal.setParserMultiFunc((sql)-> {        String formatSql = CCJSqlParserUtil.sanitizeSingleSql(sql);        return CCJSqlParserUtil.parseStatements(formatSql, JsqlParserGlobal.getExecutorService(), null);    });    JsqlParserGlobal.setParserSingleFunc((sql)-> {        String formatSql = CCJSqlParserUtil.sanitizeSingleSql(sql);        return CCJSqlParserUtil.parse(formatSql, JsqlParserGlobal.getExecutorService(), null);    });}// jsqlParserが5.0未満の場合、以下のメソッドを自身のプロジェクトにコピーしてください。コードはJsqlParser5.0バージョンに由来します。public static String sanitizeSingleSql(String sqlStr) {        Pattern SQL_DELIMITER_SPLIT = Pattern.compile(&#34;((?:'[^']*+'|[^\\n])*+)&#34;);        StringBuilder builder = new StringBuilder();        Matcher matcher = SQL_DELIMITER_SPLIT.matcher(sqlStr);        while(matcher.find()) {            for(int i = 1; i <= matcher.groupCount(); ++i) {                if (!matcher.group(i).isEmpty()) {                    builder.append(&#34;\n&#34;).append(matcher.group(i));                }            }        }        return builder.toString();}"><div></div></button></div></figure></div>
<p>方法二: mybatisの改行除去ステートメントを有効にする（汎用性はそれほど高くなく、単行コメント <code dir="auto">--</code> または <code dir="auto">#</code> のようなものを処理できません）</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">mybatis-plus</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">configuration</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#7FDBCA;--1:#111111">shrink-whitespaces-in-sql</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#FF5874;--1:#A54A4A">true</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="mybatis-plus:    configuration:        shrink-whitespaces-in-sql: true"><div></div></button></div></figure></div>
<h2 id="コードジェネレータで-xxxrepository-を生成するための設定方法">コードジェネレータで XXXRepository を生成するための設定方法</h2>
<p>今後は Service と Repository のメンテナンスを行わないため、継続して使用することは推奨しません。生成が必要な場合は、以下の手順に従って service を repository に変換してください。</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0" dir="ltr"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">AutoGenerator</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">generator</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">new</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">AutoGenerator</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#82AAFF;--1:#3C63B3">DATA_SOURCE_CONFIG</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3C63B3">generator</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">packageInfo</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#C792EA;--1:#8D46B4">new</span><span style="--0:#D6DEEB;--1:#403F53"> PackageConfig.</span><span style="--0:#82AAFF;--1:#3C63B3">Builder</span><span style="--0:#D9F5DD;--1:#111111">()</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#809191;--1:#5E6578">//-- 変換開始----</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">service</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#ECC48D;--1:#9B504E">repository</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#D9F5DD;--1:#111111">)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">serviceImpl</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#ECC48D;--1:#9B504E">repository.impl</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#D9F5DD;--1:#111111">)</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#809191;--1:#5E6578">//-- 変換終了----</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">build</span><span style="--0:#D9F5DD;--1:#111111">())</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3C63B3">generator</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">strategy</span><span style="--0:#D9F5DD;--1:#111111">(</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8D46B4">new</span><span style="--0:#D6DEEB;--1:#403F53"> StrategyConfig.</span><span style="--0:#82AAFF;--1:#3C63B3">Builder</span><span style="--0:#D9F5DD;--1:#111111">()</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#809191;--1:#5E6578">//-- 変換開始----</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">        </span></span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">serviceBuilder</span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">convertServiceFileName</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D6DEEB;--1:#403F53">entityName </span><span style="--0:#C792EA;--1:#8D46B4">-&gt;</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#ECC48D;--1:#9B504E">I</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">+</span><span style="--0:#D6DEEB;--1:#403F53"> entityName </span><span style="--0:#C792EA;--1:#8D46B4">+</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#ECC48D;--1:#9B504E">Repository</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#D9F5DD;--1:#111111">)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">        </span></span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">superServiceClass</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#C5E478;--1:#3C63B3">IRepository</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--1:#111111"><span style="--0:#FAF39F">class</span><span style="--0:#D9F5DD">)</span></span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">convertServiceImplFileName</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D6DEEB;--1:#403F53">entityName </span><span style="--0:#C792EA;--1:#8D46B4">-&gt;</span><span style="--0:#D6DEEB;--1:#403F53"> entityName </span><span style="--0:#C792EA;--1:#8D46B4">+</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#ECC48D;--1:#9B504E">Repository</span><span style="--0:#D9F5DD;--1:#111111">&quot;</span><span style="--0:#D9F5DD;--1:#111111">)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">        </span></span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">superServiceImplClass</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#C5E478;--1:#3C63B3">CrudRepository</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--1:#111111"><span style="--0:#FAF39F">class</span><span style="--0:#D9F5DD">)</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#809191;--1:#5E6578">//-- 変換終了----</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">        </span></span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">build</span><span style="--0:#D9F5DD;--1:#111111">())</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3C63B3">generator</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3C63B3">execute</span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="AutoGenerator generator = new AutoGenerator(DATA_SOURCE_CONFIG);generator.packageInfo(new PackageConfig.Builder()    //-- 変換開始----    .service(&#34;repository&#34;)    .serviceImpl(&#34;repository.impl&#34;)    //-- 変換終了----    .build());generator.strategy(    new StrategyConfig.Builder()        //-- 変換開始----        .serviceBuilder().convertServiceFileName(entityName -> &#34;I&#34; + entityName + &#34;Repository&#34;)        .superServiceClass(IRepository.class).convertServiceImplFileName(entityName -> entityName + &#34;Repository&#34;)        .superServiceImplClass(CrudRepository.class)        //-- 変換終了----        .build());generator.execute();"><div></div></button></div></figure></div> </div> <footer class="astro-3yyafb3n"> <div class="meta sl-flex astro-3yyafb3n"> <a href="https://github.com/baomidou/mybatis-plus-doc/edit/master/src/content/docs/ja/reference/question.mdx" class="sl-flex astro-eez2twj6"><svg aria-hidden="true" class="astro-eez2twj6 astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.2em;"><path d="M22 7.24a1 1 0 0 0-.29-.71l-4.24-4.24a1 1 0 0 0-1.1-.22 1 1 0 0 0-.32.22l-2.83 2.83L2.29 16.05a1 1 0 0 0-.29.71V21a1 1 0 0 0 1 1h4.24a1 1 0 0 0 .76-.29l10.87-10.93L21.71 8c.1-.1.17-.2.22-.33a1 1 0 0 0 0-.24v-.14l.07-.05ZM6.83 20H4v-2.83l9.93-9.93 2.83 2.83L6.83 20ZM18.17 8.66l-2.83-2.83 1.42-1.41 2.82 2.82-1.41 1.42Z"/></svg> ページを編集</a> <p>最終更新日: <time datetime="2025-09-30T02:43:38.000Z">2025/09/30</time></p> </div> <div class="pagination-links astro-u2l5gyhi" dir="ltr"> <a href="/ja/reference/about-cve/" rel="prev" class="astro-u2l5gyhi"> <svg aria-hidden="true" class="astro-u2l5gyhi astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17 11H9.41l3.3-3.29a1.004 1.004 0 1 0-1.42-1.42l-5 5a1 1 0 0 0-.21.33 1 1 0 0 0 0 .76 1 1 0 0 0 .21.33l5 5a1.002 1.002 0 0 0 1.639-.325 1 1 0 0 0-.219-1.095L9.41 13H17a1 1 0 0 0 0-2Z"/></svg>  <span class="astro-u2l5gyhi"> 前へ <br class="astro-u2l5gyhi"> <span class="link-title astro-u2l5gyhi">セキュリティ脆弱性の予防</span> </span> </a> <a href="/ja/resources/eco-system/" rel="next" class="astro-u2l5gyhi"> <svg aria-hidden="true" class="astro-u2l5gyhi astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17.92 11.62a1.001 1.001 0 0 0-.21-.33l-5-5a1.003 1.003 0 1 0-1.42 1.42l3.3 3.29H7a1 1 0 0 0 0 2h7.59l-3.3 3.29a1.002 1.002 0 0 0 .325 1.639 1 1 0 0 0 1.095-.219l5-5a1 1 0 0 0 .21-.33 1 1 0 0 0 0-.76Z"/></svg>  <span class="astro-u2l5gyhi"> 次へ <br class="astro-u2l5gyhi"> <span class="link-title astro-u2l5gyhi">オープンソースエコシステム</span> </span> </a> </div>  </footer>  <div class="not-content"> <div class="text-center mt-20"> <a href="https://github.com/baomidou" class="flex items-center justify-center mb-5 text-2xl font-semibold text-gray-900 dark:text-white no-underline hover:no-underline"> <img src="/images/logo/baomidou.png" class="h-12 mr-3 sm:h-9" alt="Baomidou"> </a> <p class="block text-sm text-center text-gray-500 dark:text-gray-400">
© 2016-2025 Baomidou™. All Rights Reserved.
</p> <p class="block text-sm text-center text-gray-500 dark:text-gray-400">
Power by <a href="https://starlight.astro.build" target="_blank" class="font-bold no-underline text-current hover:no-underline hover:text-blue-500">Astro Starlight</a> |
            Sponsored by <a href="https://www.jetbrains.com" target="_blank" class="font-bold no-underline text-current hover:no-underline hover:text-blue-500">JetBrains</a> </p> <p class="block text-sm text-center text-gray-500 dark:text-gray-400"> <a href="https://beian.miit.gov.cn/" rel="noreferrer" target="_blank" class="no-underline text-current hover:no-underline hover:text-blue-500">渝ICP备2021000141号-1</a> |
<a href="https://beian.mps.gov.cn/#/query/webSearch?code=50011302222097" rel="noreferrer" target="_blank" class="no-underline text-current hover:no-underline hover:text-blue-500">渝公网安备50011302222097</a> </p> </div> </div> </div> </div>   </main> </div> </div>  </div> </div>  </body></html>